var ae=(e,a,n)=>{if(!a.has(e))throw TypeError("Cannot "+n)};var _=(e,a,n)=>(ae(e,a,"read from private field"),n?n.call(e):a.get(e)),ne=(e,a,n)=>{if(a.has(e))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(e):a.set(e,n)},se=(e,a,n,s)=>(ae(e,a,"write to private field"),s?s.call(e,n):a.set(e,n),n);import{R as f,_ as ke,u as Se,a as he,c as $e,y as d,H as Ee,I as v,B as t,J as b,O as j,T as J,K as y,L as De,M as Ue,N as Re,Q as Pe,U as h,V as ie,W as K,X as be,Y as w,Z as X,$ as ce,a0 as oe,a1 as Ve,a2 as Ie,a3 as q,a4 as le,a5 as R,a6 as Oe,a7 as u,a8 as Be,a9 as je,aa as Le,ab as ye,ac as Me,ad as ze,ae as l,af as D,ag as Ge,ah as He,ai as We,aj as Je,ak as Ke,al as Z,am as Xe,an as Ze,ao as H,ap as Qe,aq as Ye,ar as et,as as tt,at,au as nt,av as st,aw as it,S as ct,ax as ot,ay as lt,az as W,aA as rt,aB as ft,aC as ut,aD as dt,aE as pt,aF as Ae,aG as P,aH as xe,aI as Q,aJ as Y}from"./index-1sithX-P.js";import{C as x}from"./Col-pek0TOOj.js";var gt=["bsPrefix","fluid","as","className"],mt={fluid:!1},ee=f.forwardRef(function(e,a){var n=e.bsPrefix,s=e.fluid,i=e.as,c=i===void 0?"div":i,o=e.className,r=ke(e,gt),p=Se(n,"container"),k=typeof s=="string"?"-"+s:"-fluid";return f.createElement(c,he({ref:a},r,{className:$e(o,s?""+p+k:p)}))});ee.displayName="Container";ee.defaultProps=mt;const Te=ee;var _t=["bsPrefix","className","noGutters","as"],vt=["xl","lg","md","sm","xs"],kt={noGutters:!1},te=f.forwardRef(function(e,a){var n=e.bsPrefix,s=e.className,i=e.noGutters,c=e.as,o=c===void 0?"div":c,r=ke(e,_t),p=Se(n,"row"),k=p+"-cols",m=[];return vt.forEach(function(C){var I=r[C];delete r[C];var O;I!=null&&typeof I=="object"?O=I.cols:O=I;var Ne=C!=="xs"?"-"+C:"";O!=null&&m.push(""+k+Ne+"-"+O)}),f.createElement(o,he({ref:a},r,{className:$e.apply(void 0,[s,p,i&&"no-gutters"].concat(m))}))});te.displayName="Row";te.defaultProps=kt;const B=te,we={[b.Effective]:"#d0191d",[b.High]:"#ff8f03",[b.Middle]:"#ba5a03",[b.Low]:"#763316",[b.Weak]:"#6b3f31",[b.None]:"#4b4b4d"},re=e=>e!==b.None?{borderRadius:2,position:"absolute",top:-3,bottom:4,left:-3,right:4,opacity:.8,backgroundColor:we[e]}:{},T=({selected:e,type:a,...n})=>{const{t:s}=d();return t("td",{css:{border:"5px solid transparent",width:"33%",position:"relative","&::after":{content:'" "',display:"block",marginTop:"100%"}}},t("div",{css:{borderRadius:2,position:"absolute",inset:0,backgroundColor:e?"#16d4d4":we[b.None]}}),a===b.High||a===b.Middle||a===b.Low||a===b.Weak?t(j,{...n,placement:"auto",overlay:t(J,{id:"tooltip-aoe-cell"},s(`skill.effective_rate.${a}`))},t("div",{css:re(a)})):t("div",{css:re(a)}))},St=({skillType:e,unit:a,...n})=>{const{t:s}=d(),i=Ee(e,a);return v(i,c=>t("div",{...n},t("table",{css:{borderCollapse:"collapse",width:"100%",transform:"skewX(-9deg)"}},t("tbody",null,t("tr",null,t(T,{selected:c.select===7,type:c.area[0]}),t(T,{selected:c.select===8,type:c.area[1]}),t(T,{selected:c.select===9,type:c.area[2]})),t("tr",null,t(T,{selected:c.select===4,type:c.area[3]}),t(T,{selected:c.select===5,type:c.area[4]}),t(T,{selected:c.select===6,type:c.area[5]})),t("tr",null,t(T,{selected:c.select===1,type:c.area[6]}),t(T,{selected:c.select===2,type:c.area[7]}),t(T,{selected:c.select===3,type:c.area[8]})))),t("span",{css:{color:"#16d4d4"}},c.select?"Â ":s("skill.fixed_area"))))},ht={[y.Fire]:"#c33",[y.Ice]:"#0cf",[y.Electric]:"#fc0"},$t=({skillType:e,unit:a})=>{const{t:n}=d(),s=De(e,a);if(!s[0])return null;const[i,c]=s;return t("div",{css:{color:"#ccc",marginTop:10}},t("span",null,c===Re.Single?n("effect:damage_deal.target.single"):n("effect:damage_deal.target.area")),v(i.effective,o=>t("span",null,n(`effect:effective.${o}`),n("effect:separator"))),t("span",null,n("status.atk")),t("span",{css:{margin:"0 5px",color:"#fc0",fontWeight:"bold"}},Ue(i),"%"),t("span",null,n("effect:as_preposition")),v(i.attribute,o=>t("span",{css:{margin:"0 5px",color:ht[o],fontWeight:600}},n(`effect:attribute.${o}`))),t("span",null,n("effect:damage")))},bt=({skillType:e,unit:a})=>{const{t:n}=d(),s=Pe(e,a);return h(s,t("div",{css:{color:"#ccc",fontSize:"0.9em",marginTop:10}},t("span",null,n("effect:effects_as_equipment.description.prefix")),t(j,{placement:"auto",overlay:t(J,{id:"tooltip-effects-as-equipment"},n("effect:effects_as_equipment.annotation"))},t("span",{css:{cursor:"help",textDecoration:"underline"}},n("effect:effects_as_equipment.description.as_equipment"))),t("span",null,n("effect:effects_as_equipment.description.suffix"))))},A=({unitAlias:e,exceptUnit:a})=>{const{t:n}=d(),s=t(ie,{id:"popover-unit-alias",css:{opacity:"0.9"}},t(ie.Content,null,[...K[e]].filter(i=>i!==a).map(i=>t("div",{key:i,css:{textAlign:"left"}},n("unit:display",{number:i})))));return t(j,{placement:"auto",overlay:s},t("span",{css:{display:"inline-block",cursor:"help",textDecoration:"underline"}},n(`effect:unit.${e}`)))},Ce=({target:e,selfUnitNumber:a})=>{const{t:n}=d();function s(r){return n("effect:with_quotes",{value:n("unit:display",{number:r})})}const i="conditions"in e&&e.conditions,c="except"in e?e.except:void 0,o=e.kind===be.AllyExceptSelf?a:w(c)?void 0:c;return t(f.Fragment,null,n(`effect:effect.target.kind.${e.kind}`),i||c?n("effect:of_preposition"):null,v(c,r=>t(f.Fragment,null,w(r)?`${s(r[0])}${n("effect:unit_separator")}${s(r[1])}`:s(r),n("effect:except_preposition"),i?null:n("effect:unit.unit"))),i?e.conditions.map((r,p,k)=>{const m=++p<k.length?n("effect:unit_separator"):"";if(typeof r=="number")return s(r)+m;if(typeof r=="string")return X(r)?t(f.Fragment,{key:r},t(A,{unitAlias:r,exceptUnit:o}),m):n(`effect:unit.${r}`)+m;if("alias"in r){const C="type"in r?n(`effect:unit.${r.type}`):"role"in r?n(`effect:unit.${r.role}`):null;return t(f.Fragment,{key:JSON.stringify(r)},t(A,{unitAlias:r.alias,exceptUnit:o}),C?n("effect:of_preposition"):null,C,m)}else return"not_alias"in r?t(f.Fragment,{key:JSON.stringify(r)},t(A,{unitAlias:r.not_alias,exceptUnit:o}),n("effect:negative_form"),"type"in r?n(`effect:unit.${r.type}`):"role"in r?n(`effect:unit.${r.role}`):n("effect:unit.unit"),m):n(`effect:unit.${r.type}`)+n(`effect:unit.${r.role}`)+m}):null)};var g;class At{constructor(a){ne(this,g,void 0);se(this,g,a)}get enemyTargetConditions(){const a=!_(this,g).conditions||_(this,g).conditions.every(i=>!("state"in i)||!("target"in i.state)),n=!ce(_(this,g).details);if(a&&n&&oe(_(this,g))&&_(this,g).target.kind===be.Enemy){const{kind:i,conditions:c}=_(this,g).target;return c&&{kind:i,conditions:c}}}get hasAnyConditions(){return!!_(this,g).conditions||!!this.enemyTargetConditions}get hasMultipleConditions(){var a;return(((a=_(this,g).conditions)==null?void 0:a.length)??0)>1}get effective(){return"effective"in _(this,g)?_(this,g).effective:void 0}get scaleFactor(){return"scale_factor"in _(this,g)?_(this,g).scale_factor:void 0}get effectTargets(){var s;const a=Ve(_(this,g).details);if(ce(_(this,g).details)&&oe(_(this,g))){const i=(s=_(this,g).conditions)==null?void 0:s.some(c=>"state"in c&&"target"in c.state);return Object.assign(a?{self:!0}:{},{target:!0,...i?{}:_(this,g).target})}else return a?{self:!0}:{around:!0}}}g=new WeakMap;function F(e,a){return++a<e.length}function xt(e,a,n){switch(e[0]){case u.HpGreaterOrEqual:case u.HpLessOrEqual:case u.HpGreaterThan:case u.HpLessThan:return t("span",null,n(`effect:condition.state.${e[0]}`,{value:e[1]}));case u.HpRateGreaterOrEqualThanSelf:return t("span",null,n(`effect:condition.state.${e[0]}`));case u.StatusGreaterThanSelf:case u.StatusLessThanSelf:return t("span",null,n(`effect:condition.state.${e[0]}`,e[1]));case u.StatusGreaterOrEqualThan:return t("span",null,n(`effect:condition.state.${e[0]}`,e[1]));case u.RankGreaterOrEqual:return t("span",null,n(`effect:condition.state.${e[0]}`,{rank:e[1]}));case u.Affected:{const s=e[1];return w(s)?t("span",null,n("effect:condition.state.affected_both",{effect:{0:s[0],1:s[1]}})):t("span",null,n(`effect:condition.state.${e[0]}`,{effect:s}))}case u.NotAffected:{const s=e[1].map(i=>n(`effect:effect.name.${i}`)).join(n("effect:and_symbolic_separator"));return t("span",null,n(`effect:condition.state.${e[0]}`,{effects:s}))}case u.AffectedBy:return Tt(e[1],n);case u.AffectedActiveBy:return t("span",null,t(A,{unitAlias:e[1].alias}),n("effect:condition.state.affected_active_by_alias"));case u.Tagged:{const s=e[1];return w(s)?t("span",null,n("effect:condition.state.multiple_tagged",{tag1:s[0],tag2:s[1]})):t("span",null,n(`effect:condition.state.${e[0]}`,{tag:s}))}case u.NotTagged:return t("span",null,n(`effect:condition.state.${e[0]}`,{tag:e[1]}));case u.TaggedAffected:case u.NotTaggedAffected:return t("span",null,n(`effect:condition.state.${e[0]}`,e[1]));case u.Stack:if("effect"in e[1])return n("effect:condition.state.tag_effect_stack_ge",e[1]);if("equal"in e[1])return n("effect:condition.state.tag_stack_eq",e[1]);{const{tag:s}=e[1],i=w(s),c=i?"tags_":"tag_",o="greater_or_equal"in e[1]?"stack_ge":"stack_le",r={...e[1],...i?{tags:s.map(p=>n("effect:tag.format",{tag:p})).join(n("effect:or_symbolic_separator"))}:{}};return n(`effect:condition.state.${c}${o}`,r)}case u.Form:return t("span",null,n(`effect:condition.state.${e[0]}`,{form:e[1]}));case u.Equipped:{const s=n(`equipment:${e[1]}`);return t("span",null,n(`effect:condition.state.${e[0]}`,{equipment:s}))}case u.NotEquipped:{const s=e[1].map(i=>`${n("effect:with_quotes",{value:n(`equipment:${i}`)})}`).join(n("effect:unit_separator"));return t("span",null,n(`effect:condition.state.${e[0]}`,{equipments:s}))}case u.Grid:return t("span",null,n(`effect:condition.state.${e[0]}`,{grid:e[1]}));case u.Unit:return E(e[0],e[1],a,n);default:return e}}function Tt(e,a){if("alias"in e)return t(f.Fragment,null,a("effect:with_quotes",{value:a("unit:display",{number:e.except})}),a("effect:except_preposition"),t(A,{unitAlias:e.alias,exceptUnit:e.except}),a("effect:condition.state.affected_by_alias"));if("effect"in e){const n="unit"in e?"affected_effect_by":"affected_equipment_effect_by";return t("span",null,a(`effect:condition.state.${n}`,e))}else return t("span",null,a("effect:condition.state.affected_by",e))}function E(e,a,n,s){function i(c){return s("effect:with_quotes",{value:s("unit:display",{number:c})})}if(typeof a=="number")return t("span",null,s(`effect:condition.state.${e}`,{unit:i(a)}));if(w(a)){let c;if(ye(a)||a[0]===Me.Light)c=`${s(`effect:unit.${a[0]}`)}${s("effect:unit_separator")}${s(`effect:unit.${a[1]}`)}`;else if(ze(a))c=`${s(`effect:unit.${a[0]}`)}${s("effect:unit_separator")}${i(a[1])}`;else{const o=e===u.NotInSquad?s("effect:and_separator"):s("effect:unit_separator");c=a.map(r=>i(r)).join(o)}return t("span",null,s(`effect:condition.state.${e}`,{unit:c}))}else if(typeof a=="string"){const c=e===u.InSquad||e===u.NotInSquad;if(X(a))return t(f.Fragment,null,h(c&&K[a].has(n),t("span",null,s("effect:unit.self"),s("effect:except_preposition"))),t(A,{unitAlias:a,exceptUnit:c?n:void 0}),t("span",null,s(`effect:condition.state.${e}`,{unit:""})));{const o=a!=="cross_adjacent"&&a!=="armored_bulgasari"&&a!=="golden_factory";return t(f.Fragment,null,h(c&&o,t("span",null,s("effect:unit.self"),s("effect:except_preposition"))),t("span",null,s(`effect:condition.state.${e}`,{unit:s(`effect:unit.${a}`)})))}}else{if("alias"in a)return t(f.Fragment,null,t(A,{unitAlias:a.alias}),s("effect:of_preposition"),s(`effect:unit.${a.role}`),s(`effect:condition.state.${e}`,{unit:""}));if("equipment"in a)return t("span",null,s("effect:condition.state.affected_equipment_effect_by",a));if(u.Tagged in a){const c="unit"in a?i(a.unit):s("effect:unit.ally");return t("span",null,s("effect:condition.state.tagged",{tag:a.tagged}),s("effect:condition.state.in_squad",{unit:c}))}else return t("span",null,s("effect:condition.state.affected_effect_by",a.affected_by),s("effect:condition.state.in_squad",{unit:s("effect:unit.ally")}))}}const fe=e=>{const{t:a}=d(),{state:n,unitNumber:s}=e;return t(f.Fragment,null,"target"in e?t(f.Fragment,null,t(Ce,{target:e.target,selfUnitNumber:s}),a("effect:case_particle")):a("effect:condition.target.self"),n.map((i,c)=>t(f.Fragment,{key:JSON.stringify(i)},R(i).map((o,r,p)=>t(f.Fragment,{key:o[0]},xt(o,s,a),h(F(p,r),t("span",null,a("effect:and_symbolic_separator"))))),h(F(n,c),t("span",null,a("effect:or_symbolic_separator"))))))},ue=({state:e,unitNumber:a})=>{const{t:n}=d(),s=o=>"equal"in o?n("effect:condition.state.cross_adjacent_eq",o):"less_or_equal"in o?n("effect:condition.state.cross_adjacent",o):n("effect:condition.state.cross_adjacent_ge",o),i=o=>n("effect:condition.state.num_of_defender_armored_bulgasari",o),c=o=>"less_than"in o?n("effect:condition.state.num_of_allies_lt_enemies",o):"greater_than"in o?n("effect:condition.state.num_of_units_gt_enemies",o):n("effect:condition.state.num_of_units_le_enemies",o);return w(e)?t(f.Fragment,null,n("effect:condition.target.squad"),Oe(e)?E(u.InSquad,e.map(o=>o.in_squad),a,n):t(f.Fragment,null,E(u.NotInSquad,e[0].not_in_squad,a,n),t("span",null,n("effect:or_symbolic_separator")),E(u.InSquad,e[1].in_squad,a,n))):u.NumOfUnits in e&&Be(e.num_of_units)?t("span",null,c(e.num_of_units)):t(f.Fragment,null,n("effect:condition.target.squad"),R(e).map((o,r,p)=>{const k=()=>t(f.Fragment,null,h(F(p,r),n("effect:and_symbolic_separator")));switch(o[0]){case u.InSquad:return t(f.Fragment,{key:o[0]},E(u.InSquad,o[1],a,n),t(k,null));case u.NotInSquad:return t(f.Fragment,{key:o[0]},E(u.NotInSquad,o[1],a,n),t(k,null));case u.NumOfUnits:{const m=o[1];return je(m)?t(f.Fragment,{key:o[0]},s(m),t(k,null)):Le(m)?t(f.Fragment,{key:o[0]},i(m),t(k,null)):t(f.Fragment,{key:o[0]},"equal"in m?n("effect:condition.state.num_of_units_eq",m):"greater_or_equal"in m?n("effect:condition.state.num_of_units_ge",m):n("effect:condition.state.num_of_units_le",m),t(k,null))}default:return o}}))},wt=({state:e})=>{const{t:a}=d(),{num_of_units:n}=e;if("unit"in e){const s=a(`effect:unit.${e.unit}`);return t(f.Fragment,null,a("effect:condition.target.enemy"),a("effect:condition.state.num_of_enemies_eq",n),a("effect:and_symbolic_separator"),a("effect:condition.state.unit",{unit:s}))}else return t(f.Fragment,null,"unit"in n?a("effect:condition.target.enemy_unit",n):a("effect:condition.target.enemy"),"equal"in n?a("effect:condition.state.num_of_enemies_eq",n):"less_or_equal"in n?"greater_or_equal"in n?a("effect:condition.state.num_of_enemies",n):a("effect:condition.state.num_of_enemies_le",n):a("effect:condition.state.num_of_enemies_ge",n))},Ct=({condition:e,unitNumber:a})=>{const{t:n}=d();if(!("trigger"in e))return null;switch(e.trigger){case q.StartRound:return t(f.Fragment,null,e.round?typeof e.round=="string"?n(`effect:condition.trigger.start_${e.round}_round`):"at"in e.round?n("effect:condition.trigger.round.at",{round:e.round.at}):"from"in e.round?n("effect:condition.trigger.round.from",{round:e.round.from}):n("effect:condition.trigger.round.until",{round:e.round.until}):n("effect:condition.trigger.start_round"));case q.UseActive1:case q.UseActive2:case q.HitActive1:case q.HitActive2:return t(f.Fragment,null,[..."round"in e?[n(`effect:condition.trigger.round.${e.round}`)]:[],n(`effect:condition.trigger.${e.trigger}`,{unit:a})].join(""));case q.SeizeOpportunity:return t(f.Fragment,null,[...K[le.NotApplicableForSeizeOpportunity]].map(s=>n("effect:with_quotes",{value:n("unit:display",{number:s})})).join(n("effect:unit_separator")),n("effect:except_preposition"),t(A,{unitAlias:le.ApplicableForSeizeOpportunity}),n("effect:case_particle"),n(`effect:condition.trigger.${e.trigger}`));default:return t(f.Fragment,null,n(`effect:condition.trigger.${e.trigger}`))}},de=e=>{const{t:a}=d(),{unitNumber:n}=e;if(!("state"in e.condition))return null;const s=({show:c})=>t(f.Fragment,null,h(c,a("effect:and_symbolic_separator"))),i=({entry:c,unitNumber:o,needSeparator:r})=>{const[p,k]=c;return p==="self"?t(f.Fragment,{key:p},t(fe,{state:k,unitNumber:o}),t(s,{show:r})):p==="squad"?t(f.Fragment,{key:p},t(ue,{key:p,state:k,unitNumber:o}),t(s,{show:r})):t(f.Fragment,{key:p},t(wt,{state:k}),t(s,{show:r}))};return t(f.Fragment,null,"target"in e?R(e.condition.state).map((c,o,r)=>c[0]==="target"?t(f.Fragment,{key:c[0]},t(fe,{state:c[1],target:e.target,unitNumber:n}),t(s,{show:F(r,o)})):c[0]==="squad"?t(f.Fragment,{key:c[0]},t(ue,{state:c[1],unitNumber:n}),t(s,{show:F(r,o)})):t(i,{key:c[0],entry:c,unitNumber:n,needSeparator:F(r,o)})):R(e.condition.state).map((c,o,r)=>t(i,{key:c[0],entry:c,unitNumber:n,needSeparator:F(r,o)})),a("effect:case"))},N=e=>{const{t:a}=d(),{condition:n,unitNumber:s}=e,i="trigger"in n&&"state"in n;return t("span",null,t(Ct,{condition:n,unitNumber:s}),h(i,a("effect:separator")),"target"in e?t(de,{condition:e.condition,target:e.target,unitNumber:s}):t(de,{condition:e.condition,unitNumber:s}))},Ft=({target:e})=>{const{t:a}=d(),n=e.conditions.map(s=>a(`effect:unit.${s}`)).join(a("effect:unit_separator"));return t(f.Fragment,null,a("effect:effect.target.kind.enemy"),a("effect:case_particle"),a("effect:condition.state.unit",{unit:n}),a("effect:case"))},qt=({effective:e})=>{const{t:a}=d();return v(e,n=>t("span",null,a(`effect:effective.${n}`)))},Nt=({scaleFactor:e,unitNumber:a})=>{const{t:n}=d();return v(e,s=>{if("per_stack"in s){const i="effect"in s.per_stack?"effect:scale_factor.per_stack_effect":"effect:scale_factor.per_stack";return t("span",null,n(i,s.per_stack))}else switch(s.per_units.type){case"all":return t("span",null,n("effect:scale_factor.per_units"));case"squad":{const{unit:i="ally",except:c}=s.per_units,o=!!c;return t(f.Fragment,null,h(o,t("span",null,n("effect:unit.self"),n("effect:except_preposition"))),w(i)?t(f.Fragment,null,t(A,{unitAlias:i[0],exceptUnit:o?a:void 0}),t("span",null,"Â ",n("effect:unit_separator"),"Â "),t(A,{unitAlias:i[1],exceptUnit:o?a:void 0})):X(i)?t(A,{unitAlias:i,exceptUnit:o?a:void 0}):t("span",null,n(`effect:unit.${i}`)),t("span",null,n("effect:scale_factor.num_of_allies")))}case"enemy":return t("span",null,n("effect:unit.enemy"),v(s.per_units.unit,i=>n(`effect:unit.${i}`)),n(`effect:scale_factor.${s.per_units.variation}`))}})},Et=({targets:e,unitNumber:a})=>{const{t:n}=d();return t("span",null,h("self"in e,n("effect:effect.target.self")),h("self"in e&&"target"in e,n("effect:and_separator")),"target"in e?"kind"in e?t(Ce,{target:e,selfUnitNumber:a}):n("effect:effect.target.target"):null,h("around"in e,n("effect:effect.target.around")),n("effect:to_preposition"))},Dt=({effect:e,unitNumber:a})=>{const{t:n}=d(),s=new At(e),i=()=>t("div",{css:{fontSize:"0.7em"}},n("effect:or_conjunction"));return t("div",null,t(()=>{if(Ie(e)){const r=e.conditions?e.conditions.length===1?t(N,{condition:e.conditions[0],target:e.target,unitNumber:a}):t(f.Fragment,null,t(N,{condition:e.conditions[0],target:e.target,unitNumber:a}),t(i,null),t(N,{condition:e.conditions[1],target:e.target,unitNumber:a})):null;return t(f.Fragment,null,r,v(s.enemyTargetConditions,p=>t(f.Fragment,null,h(!!r,n("effect:separator")),t(Ft,{target:p}))))}else return v(e.conditions,r=>r.length===1?t(N,{condition:r[0],unitNumber:a}):t(f.Fragment,null,t(N,{condition:r[0],unitNumber:a}),t(i,null),t(N,{condition:r[1],unitNumber:a})))},null),t(({children:r})=>s.hasAnyConditions?s.hasMultipleConditions?t("div",{css:{marginTop:5}},r):t("span",null,n("effect:separator"),r):t("span",null,r),null,t(qt,{effective:s.effective}),t(Nt,{scaleFactor:s.scaleFactor,unitNumber:a}),t(Et,{targets:s.effectTargets,unitNumber:a}),n("effect:below_effects")))};function S(e,a,n){const s="rate"in a&&a.rate?typeof a.rate=="string"?`${n(`effect:rate.${a.rate}`)}${n("effect:separator")}`:`${n("effect:rate.percentage",{value:D(a.rate)})}${n("effect:separator")}`:"",i=["times"in a&&a.times?n("effect:times",{count:a.times}):void 0,"max_stack"in a&&typeof a.max_stack=="number"?a.max_stack===1?n("effect:does_not_stack"):n("effect:max_stack",{count:a.max_stack}):void 0,"cannot_be_dispelled"in a&&a.cannot_be_dispelled?n("effect:cannot_be_dispelled"):void 0].filter(Ke).join(n("effect:separator"));return`${s}${e}${i?` (${i})`:""}`}function L(e,a){return"term"in e?typeof e.term=="string"?a(`effect:term.${e.term}`):e.term&&a("effect:term.for_rounds",{value:e.term.for_rounds}):void 0}function $(e,a){return"tag"in e?e.tag&&a("effect:tag.format",{tag:e.tag}):void 0}function M(e,a,n){return{tag:$(a,n),detail:S(n(`effect:effect.description.${e}`,{value:a.value}),a,n),term:L(a,n)}}function z(e,a,n){return{tag:$(a,n),detail:S(n(`effect:effect.description.${e}`,{value:D(a)}),a,n),term:L(a,n)}}function pe(e,a,n){return{detail:S(n(`effect:effect.description.${e}`,{tag:a.tag}),a,n),term:L(a,n)}}function ge(e,a){return"effect"in e?a(`effect:effect.name.${e.effect}`):e.effects.map(n=>a(`effect:effect.name.${n}`)).join(a("effect:separator"))}function Ut(e,a){const n=L(e[1],a);switch(e[0]){case l.ActionCountUp:case l.ActionCountDown:case l.MinimizeDamage:case l.NullifyDamage:case l.AllBuffBlocking:case l.AllBuffRemoval:case l.AllDebuffRemoval:case l.ColumnProtect:case l.RowProtect:case l.TargetProtect:case l.ReAttack:case l.FollowUpAttack:case l.IgnoreBarrierDr:case l.IgnoreProtect:case l.IgnoreProtectDeactivate:case l.Reconnaissance:case l.Marked:case l.Provoked:case l.Immovable:case l.Silenced:case l.Stunned:case l.RefundAp:case l.AttackHit:case l.AttackCritical:case l.IgnoreDef:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`),e[1],a),term:n};case l.AMG11Construction:case l.DeployRabbitDField:case l.SummonHologramTiger:case l.GoldenFactoryConstruction:return{tag:$(e[1],a),detail:a(`effect:effect.description.${e[0]}`,{times:e[1].times}),term:n};case l.CooperativeAttack:{const{unit:s,active:i}=e[1];return{tag:$(e[1],a),detail:We(s)?a("effect:effect.description.cooperative_attack_form_active",{unit:s,no:i,form:Je[s].default}):a("effect:effect.description.cooperative_attack",{unit:s,no:i}),term:n}}case l.Push:case l.Pull:case l.RangeUp:case l.RangeUpActive2:case l.FixedDamageOverTime:case l.FixedFireDamageOverTime:case l.FixedIceDamageOverTime:case l.FixedElectricDamageOverTime:case l.MinimizeDamageLessThanValue:case l.Barrier:return M(e[0],e[1],a);case l.RangeDown:return"length"in e[1]?e[1].map(s=>M(e[0],s,a)):M(e[0],e[1],a);case l.BattleContinuation:{const s="value"in e[1]?a("effect:effect.description.battle_continuation",{value:e[1].value}):a("effect:effect.description.battle_continuation_with_hp_rate",{value:D(e[1])});return{tag:$(e[1],a),detail:S(s,e[1],a),term:n}}case l.AtkValueUp:case l.DefValueUp:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{value:He(e[1])}),e[1],a),term:n};case l.ApUp:case l.ApDown:case l.SetAp:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{value:Ge(e[1])}),e[1],a),term:n};case l.BuffRemoval:case l.DebuffRemoval:case l.EffectRemoval:{const s=ge(e[1],a);return{detail:S(e[1].tag?a(`effect:effect.description.tagged_${e[0]}`,{tag:e[1].tag,effects:s}):a(`effect:effect.description.${e[0]}`,{effects:s}),e[1],a),term:n}}case l.PreventsEffect:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{effects:ge(e[1],a)}),e[1],a),term:n};case l.ActivationRatePercentageUp:{const s=D(e[1]),i=e[1].effect;return{detail:S(e[1].tag?a("effect:effect.description.tagged_activation_rate_percentage_up",{tag:e[1].tag,effect:i,value:s}):a("effect:effect.description.activation_rate_percentage_up",{effect:i,value:s}),e[1],a),term:n}}case l.AbsolutelyActivated:return{detail:S(a(`effect:effect.description.${e[0]}`,e[1]),e[1],a),term:n};case l.FormChange:case l.FormRelease:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{form:e[1].form}),e[1],a),term:n};case l.TagStack:case l.TagRelease:return"length"in e[1]?e[1].map(s=>pe(e[0],s,a)):pe(e[0],e[1],a);case l.TagUnstack:return{detail:S(a(`effect:effect.description.${e[0]}`,{tag:e[1].tag,value:e[1].value}),e[1],a),term:n};case l.DamageMultiplierUpByStatus:case l.DamageMultiplierReductionByStatus:case l.CriReductionByStatus:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{status:e[1].status,value:D(e[1])}),e[1],a),term:n};case l.AtkValueUpByUnitValue:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{unit:e[1].unit,value:D(e[1])}),e[1],a),term:n};case l.DamageMultiplierDown:case l.DefDown:case l.AccDown:case l.CriDown:case l.EvaUp:case l.StatusResistUp:case l.DamageReductionUp:return"length"in e[1]?e[1].map(s=>z(e[0],s,a)):z(e[0],e[1],a);default:return z(e[0],e[1],a)}}const me=({tag:e,detail:a,term:n})=>{const{t:s}=d();return t("div",{css:{display:"flex",fontWeight:"bold",borderRadius:3,backgroundColor:"#1c3042",padding:"3px 8px",marginTop:5}},t("div",null,v(e,i=>t("span",null,i,s("effect:tag_separator"))),t("span",null,a)),t("div",{css:{marginLeft:"auto",textAlign:"right",flexShrink:0}},v(n,i=>t("span",{css:{marginLeft:10,color:"#aaa",fontSize:"0.9em"}},i))))},Rt=({entry:e})=>{const{t:a}=d(),n=Ut(e,a);return"length"in n?t(f.Fragment,null,n.map(s=>t(me,{key:JSON.stringify(s),...s}))):t(me,{...n})},G=({className:e,target:a,details:n,area:s})=>{const{t:i}=d();return t("div",{className:e},t("div",null,t(Z,{variant:"light"},i(`effect:effect.target.${a==="target"?s==="single"?"single":"area":a}`))),R(n).map(o=>t(Rt,{key:o[0],entry:o})))},Pt=({effect:e,unitNumber:a,area:n})=>{const s="self"in e.details?e.details.self:void 0,i="target"in e.details?e.details.target:void 0,c="around"in e.details?e.details.around:void 0;return t("div",{css:{border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:5,marginTop:10,padding:5,"& > .skill-effect-details":{marginTop:10}}},t(Dt,{effect:e,unitNumber:a}),v(s,o=>t(G,{className:"skill-effect-details",target:"self",details:o,area:n})),v(i,o=>t(G,{className:"skill-effect-details",target:"target",details:o,area:n})),v(c,o=>t(G,{className:"skill-effect-details",target:"around",details:o,area:n})))},Vt=({skillType:e,unit:a})=>{const n=Xe(e,a);return v(n,([s,i,c])=>t("div",{css:{color:"#ccc",fontSize:"0.8em"}},s.map(o=>t(Pt,{key:JSON.stringify(o),effect:o,unitNumber:c,area:i}))))},It={fontSize:"1.2em",color:"#ccc"},Fe={fontSize:"1.2em",fontWeight:"bold"},_e={...It,display:"inline-block",width:"4em"},qe={fontSize:"1.2em","& > .badge":{whiteSpace:"normal"}},ve=({children:e,...a})=>t(Te,{...a,fluid:!0,css:{padding:0}},e),Ot=({skillType:e,unit:a})=>{const n=Qe(e,a);return t("div",{css:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:n},n)},Bt=({skillType:e,unit:a})=>{const n=Ye(e,a);return t("span",{css:{...Fe,color:"#0af"}},n)},jt=({skillType:e,unit:a})=>{const n=et(e,a);return t("span",{css:{...Fe,color:"#cc0"}},n)},Lt=({skillType:e,unit:a})=>{const{t:n}=d(),s=tt(e,a);return h(s,t("div",{css:qe},t(Z,{variant:"rank-up-skill"},n("skill.rank_up"))))},yt=({skillType:e,unit:a})=>{const{t:n}=d(),s=at(e,a);return v(s,i=>t("div",{css:qe},t(Z,{variant:"secondary"},n(`effect:form.${i}`))))},Mt=[10,9,8,7,6,5,4,3,2,1],zt=({skillType:e,unit:a})=>{const{t:n}=d(),[s,i]=nt(e,a);return t("div",{css:{display:"flex",userSelect:"none","& > .dropdown.numeric":{flexShrink:0,width:70}}},t("span",{css:{marginRight:5}},n("lv")),t(st,{id:"skill-lv-dropdown",items:Mt,value:s,onChange:i}))},U=({eventKey:e})=>{const{t:a}=d(),n=Ze();return t(H.Pane,{eventKey:e},v(n,s=>t(Te,{fluid:!0,css:{paddingTop:5}},t(B,{css:{fontSize:"1.4em",color:"#eee"}},t(x,{xs:8,sm:9},t(Ot,{skillType:e,unit:s})),t(x,{xs:4,sm:3},t(zt,{skillType:e,unit:s}))),t(B,null,t(x,{xs:{order:"last",span:12},sm:{order:"first",span:9}},t($t,{skillType:e,unit:s}),t(bt,{skillType:e,unit:s}),t(Vt,{skillType:e,unit:s})),t(x,{xs:{order:"first",span:12},sm:{order:"last",span:3}},t(ve,{css:{userSelect:"none"}},t(B,null,t(x,{xs:8,sm:12},t(ve,null,t(B,{css:{"& > div":{marginTop:5}}},t(x,{xs:{order:1,span:12},sm:{order:2,span:12}},t("span",{css:_e},a("skill.ap")),t(Bt,{skillType:e,unit:s})),t(x,{xs:{order:2,span:12},sm:{order:3,span:12}},t("span",{css:_e},a("skill.range")),t(jt,{skillType:e,unit:s})),t(x,{xs:{order:3,span:12},sm:{order:1,span:12}},t(yt,{skillType:e,unit:s}),t(Lt,{skillType:e,unit:s}))))),t(x,{xs:4,sm:12,css:{"& > div":{marginTop:5}}},t("div",null,t("span",{css:{color:"#ccc"}},a("skill.area"))),t(St,{css:{width:100},skillType:e,unit:s})))))))))},Gt=()=>{const{t:e}=d(),[a,n]=it();return v(a,s=>t("div",{css:{display:"flex",alignItems:"center",padding:"10px 8px"}},t(j,{placement:"top",overlay:t(J,{id:"tooltip-form-change"},e("form_change"))},t(ct,{"aria-label":"Change unit form",variant:"secondary",svg:t(ot,null),onClick:n})),t("span",{css:{color:"#eee",marginLeft:10}},e(`effect:form.${s.unitForm()}`))))},V=({eventKey:e,active:a,disabled:n,children:s})=>{const i=e.startsWith("active")?"active-skill":"passive-skill";return t(W.Item,null,t(W.Link,{className:i,eventKey:e,active:a,disabled:n},t("span",{css:{display:"inline-block","@media (max-width: 480px)":{width:32},"@media (min-width: 480px)":{width:50}}},s)))},Ht=()=>{const[e,a,n]=rt();return t(V,{eventKey:e,active:a,disabled:!n},n?t(Ae,{skillType:P.Active1}):t(xe,null),t("span",{className:"sr-only"},"Active skill 1"))},Wt=()=>{const[e,a,n]=ft();return t(V,{eventKey:e,active:a,disabled:!n},n?t(Ae,{skillType:P.Active2}):t(xe,null),t("span",{className:"sr-only"},"Active skill 2"))},Jt=()=>{const[e,a,n]=ut();return t(V,{eventKey:e,active:a,disabled:!n},n?t(Q,{skillType:P.Passive1}):t(Y,null),t("span",{className:"sr-only"},"Passive skill 1"))},Kt=()=>{const[e,a,n]=dt();return t(V,{eventKey:e,active:a,disabled:!n},n?t(Q,{skillType:P.Passive2}):t(Y,null),t("span",{className:"sr-only"},"Passive skill 2"))},Xt=()=>{const[e,a,n]=pt();return t(V,{eventKey:e,active:a,disabled:!n},n?t(Q,{skillType:P.Passive3}):t(Y,null),t("span",{className:"sr-only"},"Passive skill 3"))},ea=e=>{const[a,n]=lt();return t("div",{...e},t(Gt,null),t(H.Container,{id:"unit-skill-viewer",activeKey:a,onSelect:s=>{n(s??void 0)}},t(W,{variant:"tabs",className:`skill ${a?a.startsWith("active")?"active-skill":"passive-skill":""}`},t(Ht,null),t(Wt,null),t(Jt,null),t(Kt,null),t(Xt,null)),t(H.Content,{css:{minHeight:300}},t(U,{eventKey:"active1"}),t(U,{eventKey:"active2"}),t(U,{eventKey:"passive1"}),t(U,{eventKey:"passive2"}),t(U,{eventKey:"passive3"}))))};export{ea as default};
