var ee=e=>{throw TypeError(e)};var te=(e,a,n)=>a.has(e)||ee("Cannot "+n);var _=(e,a,n)=>(te(e,a,"read from private field"),n?n.call(e):a.get(e)),ae=(e,a,n)=>a.has(e)?ee("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(e):a.set(e,n),ne=(e,a,n,s)=>(te(e,a,"write to private field"),s?s.call(e,n):a.set(e,n),n);import{R as r,_ as _e,u as ve,a as ke,c as Se,y as d,H as Ne,I as v,B as t,J as A,O as L,T as K,K as M,L as Ee,M as De,N as Ue,Q as Re,U as h,V as se,W as he,X as $e,Y as F,Z as X,$ as ie,a0 as ce,a1 as Pe,a2 as Ve,a3 as N,a4 as P,a5 as Ie,a6 as u,a7 as Oe,a8 as Be,a9 as Le,aa as je,ab as ye,ac as Me,ad as Ge,ae as He,af as ze,ag as l,ah as D,ai as We,aj as Je,ak as Ke,al as Xe,am as Ze,an as Ae,ao as Z,ap as Qe,aq as Ye,ar as W,as as et,at as tt,au as at,av as nt,aw as st,ax as it,ay as ct,az as ot,S as lt,aA as ft,aB as rt,aC as J,aD as ut,aE as dt,aF as pt,aG as gt,aH as mt,aI as be,aJ as V,aK as Te,aL as Q,aM as Y}from"./index-s25LYhBN.js";import{C as w}from"./Col-OJmKU50b.js";var _t=["bsPrefix","fluid","as","className"],vt={fluid:!1},j=r.forwardRef(function(e,a){var n=e.bsPrefix,s=e.fluid,i=e.as,c=i===void 0?"div":i,o=e.className,f=_e(e,_t),g=ve(n,"container"),k=typeof s=="string"?"-"+s:"-fluid";return r.createElement(c,ke({ref:a},f,{className:Se(o,s?""+g+k:g)}))});j.displayName="Container";j.defaultProps=vt;var kt=["bsPrefix","className","noGutters","as"],St=["xl","lg","md","sm","xs"],ht={noGutters:!1},U=r.forwardRef(function(e,a){var n=e.bsPrefix,s=e.className,i=e.noGutters,c=e.as,o=c===void 0?"div":c,f=_e(e,kt),g=ve(n,"row"),k=g+"-cols",p=[];return St.forEach(function(T){var O=f[T];delete f[T];var B;O!=null&&typeof O=="object"?B=O.cols:B=O;var Ce=T!=="xs"?"-"+T:"";B!=null&&p.push(""+k+Ce+"-"+B)}),r.createElement(o,ke({ref:a},f,{className:Se.apply(void 0,[s,g,i&&"no-gutters"].concat(p))}))});U.displayName="Row";U.defaultProps=ht;const we={[A.Effective]:"#d0191d",[A.High]:"#ff8f03",[A.Middle]:"#ba5a03",[A.Low]:"#763316",[A.Weak]:"#6b3f31",[A.None]:"#4b4b4d"},oe=e=>e!==A.None?{borderRadius:2,position:"absolute",top:-3,bottom:4,left:-3,right:4,opacity:.8,backgroundColor:we[e]}:{},x=({selected:e,type:a,...n})=>{const{t:s}=d();return t("td",{css:{border:"5px solid transparent",width:"33%",position:"relative","&::after":{content:'" "',display:"block",marginTop:"100%"}}},t("div",{css:{borderRadius:2,position:"absolute",inset:0,backgroundColor:e?"#16d4d4":we[A.None]}}),a===A.High||a===A.Middle||a===A.Low||a===A.Weak?t(L,{...n,placement:"auto",overlay:t(K,{id:"tooltip-aoe-cell"},s(`skill.effective_rate.${a}`))},t("div",{css:oe(a)})):t("div",{css:oe(a)}))},$t=({skillType:e,unit:a,...n})=>{const{t:s}=d(),i=Ne(e,a);return v(i,c=>t("div",{...n},t("table",{css:{borderCollapse:"collapse",width:"100%",transform:"skewX(-9deg)"}},t("tbody",null,t("tr",null,t(x,{selected:c.select===7,type:c.area[0]}),t(x,{selected:c.select===8,type:c.area[1]}),t(x,{selected:c.select===9,type:c.area[2]})),t("tr",null,t(x,{selected:c.select===4,type:c.area[3]}),t(x,{selected:c.select===5,type:c.area[4]}),t(x,{selected:c.select===6,type:c.area[5]})),t("tr",null,t(x,{selected:c.select===1,type:c.area[6]}),t(x,{selected:c.select===2,type:c.area[7]}),t(x,{selected:c.select===3,type:c.area[8]})))),t("span",{css:{color:"#16d4d4"}},c.select?"Â ":s("skill.fixed_area"))))},At={[M.Fire]:"#c33",[M.Ice]:"#0cf",[M.Electric]:"#fc0"},bt=({skillType:e,unit:a})=>{const{t:n}=d(),s=Ee(e,a);if(!s[0])return null;const[i,c]=s;return t("div",{css:{color:"#ccc",marginTop:10}},t("span",null,c===Ue.Single?n("effect:damage_deal.target.single"):n("effect:damage_deal.target.area")),v(i.effective,o=>t("span",null,n(`effect:effective.${o}`),n("effect:separator"))),t("span",null,n("status.atk")),t("span",{css:{margin:"0 5px",color:"#fc0",fontWeight:"bold"}},De(i),"%"),t("span",null,n("effect:as_preposition")),v(i.attribute,o=>t("span",{css:{margin:"0 5px",color:At[o],fontWeight:600}},n(`effect:attribute.${o}`))),t("span",null,n("effect:damage")))},Tt=({skillType:e,unit:a})=>{const{t:n}=d(),s=Re(e,a);return h(s,t("div",{css:{color:"#ccc",fontSize:"0.9em",marginTop:10}},t("span",null,n("effect:effects_as_equipment.description.prefix")),t(L,{placement:"auto",overlay:t(K,{id:"tooltip-effects-as-equipment"},n("effect:effects_as_equipment.annotation"))},t("span",{css:{cursor:"help",textDecoration:"underline"}},n("effect:effects_as_equipment.description.as_equipment"))),t("span",null,n("effect:effects_as_equipment.description.suffix"))))},b=({unitAlias:e,exceptUnit:a})=>{const{t:n}=d(),s=t(se,{id:"popover-unit-alias",css:{opacity:"0.9"}},t(se.Content,null,[...he[e]].filter(i=>i!==a).map(i=>t("div",{key:i,css:{textAlign:"left"}},n("unit:display",{number:i})))));return t(L,{placement:"auto",overlay:s},t("span",{css:{display:"inline-block",cursor:"help",textDecoration:"underline"}},n(`effect:unit.${e}`)))},xe=({target:e,selfUnitNumber:a})=>{const{t:n}=d();function s(f){return n("effect:with_quotes",{value:n("unit:display",{number:f})})}const i="conditions"in e&&e.conditions,c="except"in e?e.except:void 0,o=e.kind===$e.AllyExceptSelf?a:!F(c)&&typeof c!="string"?c:void 0;return t(r.Fragment,null,n(`effect:effect.target.kind.${e.kind}`),i||c?n("effect:of_preposition"):null,v(c,f=>t(r.Fragment,null,typeof f=="string"?t(b,{unitAlias:f}):F(f)?`${s(f[0])}${n("effect:unit_separator")}${s(f[1])}`:s(f),n("effect:except_preposition"),i?null:n("effect:unit.unit"))),i?e.conditions.map((f,g,k)=>{const p=g+1<k.length?n("effect:unit_separator"):"";if(typeof f=="number")return s(f)+p;if(typeof f=="string")return X(f)?t(r.Fragment,{key:f},t(b,{unitAlias:f,exceptUnit:o}),p):n(`effect:unit.${f}`)+p;if("alias"in f){const T="type"in f?n(`effect:unit.${f.type}`):"role"in f?n(`effect:unit.${f.role}`):null;return t(r.Fragment,{key:JSON.stringify(f)},t(b,{unitAlias:f.alias,exceptUnit:o}),T?n("effect:of_preposition"):null,T,p)}else{if("not_alias"in f)return t(r.Fragment,{key:JSON.stringify(f)},t(b,{unitAlias:f.not_alias,exceptUnit:o}),n("effect:negative_form"),"type"in f?n(`effect:unit.${f.type}`):"role"in f?n(`effect:unit.${f.role}`):n("effect:unit.unit"),p);if("kind"in f){const T="type"in f?f.type:f.role;return n(`effect:unit.${T}`)+n(`effect:unit.${f.kind}`)+p}else return n(`effect:unit.${f.type}`)+n(`effect:unit.${f.role}`)+p}}):null)};var m;class wt{constructor(a){ae(this,m);ne(this,m,a)}get enemyTargetConditions(){const a=!_(this,m).conditions||_(this,m).conditions.every(i=>!("state"in i)||!("target"in i.state)),n=!ie(_(this,m).details);if(a&&n&&ce(_(this,m))&&_(this,m).target.kind===$e.Enemy){const{kind:i,conditions:c}=_(this,m).target;return c&&{kind:i,conditions:c}}}get hasAnyConditions(){return!!_(this,m).conditions||!!this.enemyTargetConditions}get hasMultipleConditions(){var a;return(((a=_(this,m).conditions)==null?void 0:a.length)??0)>1}get effective(){return"effective"in _(this,m)?_(this,m).effective:void 0}get scaleFactor(){return"scale_factor"in _(this,m)?_(this,m).scale_factor:void 0}get effectTargets(){var s;const a=Pe(_(this,m).details);if(ie(_(this,m).details)&&ce(_(this,m))){const i=(s=_(this,m).conditions)==null?void 0:s.some(c=>"state"in c&&"target"in c.state);return Object.assign(a?{self:!0}:{},{target:!0,...i?{}:_(this,m).target})}else return a?{self:!0}:{around:!0}}}m=new WeakMap;function C(e,a){return a+1<e.length}function xt(e,a,n){switch(e[0]){case u.HpGreaterOrEqual:case u.HpLessOrEqual:case u.HpGreaterThan:case u.HpLessThan:return t("span",null,n(`effect:condition.state.${e[0]}`,{value:e[1]}));case u.HpRateGreaterOrEqualThanSelf:return t("span",null,n(`effect:condition.state.${e[0]}`));case u.StatusGreaterThanSelf:case u.StatusLessThanSelf:return t("span",null,n(`effect:condition.state.${e[0]}`,e[1]));case u.StatusGreaterOrEqualThan:return t("span",null,n(`effect:condition.state.${e[0]}`,e[1]));case u.RankGreaterOrEqual:return t("span",null,n(`effect:condition.state.${e[0]}`,{rank:e[1]}));case u.Affected:{const s=e[1];return F(s)?t("span",null,n("effect:condition.state.affected_both",{effect:{0:s[0],1:s[1]}})):t("span",null,n(`effect:condition.state.${e[0]}`,{effect:s}))}case u.NotAffected:{const s=e[1].map(i=>n(`effect:effect.name.${i}`)).join(n("effect:and_symbolic_separator"));return t("span",null,n(`effect:condition.state.${e[0]}`,{effects:s}))}case u.AffectedBy:return Ft(e[1],n);case u.AffectedActiveBy:return t("span",null,t(b,{unitAlias:e[1].alias}),n("effect:condition.state.affected_active_by_alias"));case u.Tagged:{const s=e[1];return F(s)?t("span",null,n("effect:condition.state.multiple_tagged",{tag1:s[0],tag2:s[1]})):t("span",null,n(`effect:condition.state.${e[0]}`,{tag:s}))}case u.NotTagged:return t("span",null,n(`effect:condition.state.${e[0]}`,{tag:e[1]}));case u.TaggedAffected:case u.NotTaggedAffected:return t("span",null,n(`effect:condition.state.${e[0]}`,e[1]));case u.Stack:if("effect"in e[1])return n("effect:condition.state.tag_effect_stack_ge",e[1]);if("equal"in e[1])return n("effect:condition.state.tag_stack_eq",e[1]);{const{tag:s}=e[1],i=F(s),c=i?"tags_":"tag_",o="greater_or_equal"in e[1]?"stack_ge":"stack_le",f={...e[1],...i?{tags:s.map(g=>n("effect:tag.format",{tag:g})).join(n("effect:or_symbolic_separator"))}:{}};return n(`effect:condition.state.${c}${o}`,f)}case u.Form:return t("span",null,n(`effect:condition.state.${e[0]}`,{form:e[1]}));case u.Equipped:{const s=n(`equipment:${e[1]}`);return t("span",null,n(`effect:condition.state.${e[0]}`,{equipment:s}))}case u.NotEquipped:{const s=e[1].map(i=>`${n("effect:with_quotes",{value:n(`equipment:${i}`)})}`).join(n("effect:unit_separator"));return t("span",null,n(`effect:condition.state.${e[0]}`,{equipments:s}))}case u.Grid:return t("span",null,n(`effect:condition.state.${e[0]}`,{grid:e[1]}));case u.Unit:return q(e[0],e[1],a,n);case u.NumOfUnits:return t("span",null,n("effect:condition.state.cross_adjacent_enemy_ge",e[1]));default:return e}}function Ft(e,a){if("alias"in e)return t(r.Fragment,null,a("effect:with_quotes",{value:a("unit:display",{number:e.except})}),a("effect:except_preposition"),t(b,{unitAlias:e.alias,exceptUnit:e.except}),a("effect:condition.state.affected_by_alias"));if("effect"in e){const n="unit"in e?"affected_effect_by":"affected_equipment_effect_by";return t("span",null,a(`effect:condition.state.${n}`,e))}else return t("span",null,a("effect:condition.state.affected_by",e))}function q(e,a,n,s){function i(c){return s("effect:with_quotes",{value:s("unit:display",{number:c})})}if(typeof a=="number")return t("span",null,s(`effect:condition.state.${e}`,{unit:i(a)}));if(F(a)){let c;if(Me(a)||a[0]===Ge.Light)c=`${s(`effect:unit.${a[0]}`)}${s("effect:unit_separator")}${s(`effect:unit.${a[1]}`)}`;else if(He(a))c=`${s(`effect:unit.${a[0]}`)}${s("effect:unit_separator")}${i(a[1])}`;else if(ze(a)){const o=s("effect:condition.state.form_unit",a[0]),f=s("effect:condition.state.equipped_unit",a[1]);c=`${o}${s("effect:unit_separator")}${f}`}else{const o=e===u.NotInSquad?s("effect:and_separator"):s("effect:unit_separator");c=a.map(f=>i(f)).join(o)}return t("span",null,s(`effect:condition.state.${e}`,{unit:c}))}else if(typeof a=="string"){const c=e===u.InSquad||e===u.NotInSquad;if(X(a))return t(r.Fragment,null,h(c&&he[a].has(n),t("span",null,s("effect:unit.self"),s("effect:except_preposition"))),t(b,{unitAlias:a,exceptUnit:c?n:void 0}),t("span",null,s(`effect:condition.state.${e}`,{unit:""})));{const o=a!=="cross_adjacent"&&a!=="armored_bulgasari"&&a!=="golden_factory";return t(r.Fragment,null,h(c&&o,t("span",null,s("effect:unit.self"),s("effect:except_preposition"))),t("span",null,s(`effect:condition.state.${e}`,{unit:s(`effect:unit.${a}`)})))}}else{if("alias"in a)return t(r.Fragment,null,t(b,{unitAlias:a.alias}),s("effect:of_preposition"),s(`effect:unit.${a.role}`),s(`effect:condition.state.${e}`,{unit:""}));if("equipment"in a)return t("span",null,s("effect:condition.state.affected_equipment_effect_by",a));if("equipped"in a)return t("span",null,s("effect:condition.state.equipped_unit",a));if("form"in a)return t("span",null,s("effect:condition.state.form_unit",a));if(u.Tagged in a){const c="unit"in a?i(a.unit):s("effect:unit.ally");return t("span",null,s("effect:condition.state.tagged",{tag:a.tagged}),s("effect:condition.state.in_squad",{unit:c}))}else return t("span",null,s("effect:condition.state.affected_effect_by",a.affected_by),s("effect:condition.state.in_squad",{unit:s("effect:unit.ally")}))}}const le=e=>{const{t:a}=d(),{state:n,unitNumber:s}=e;return t(r.Fragment,null,"target"in e?t(r.Fragment,null,t(xe,{target:e.target,selfUnitNumber:s}),a("effect:case_particle")):a("effect:condition.target.self"),n.map((i,c)=>t(r.Fragment,{key:JSON.stringify(i)},P(i).map((o,f,g)=>t(r.Fragment,{key:o[0]},xt(o,s,a),h(C(g,f),t("span",null,a("effect:and_symbolic_separator"))))),h(C(n,c),t("span",null,a("effect:or_symbolic_separator"))))))},fe=({state:e,unitNumber:a})=>{const{t:n}=d(),s=o=>"equal"in o?n("effect:condition.state.cross_adjacent_eq",o):"less_or_equal"in o?n("effect:condition.state.cross_adjacent",o):n("effect:condition.state.cross_adjacent_ge",o),i=o=>n("effect:condition.state.num_of_defender_armored_bulgasari",o),c=o=>"less_than"in o?n("effect:condition.state.num_of_allies_lt_enemies",o):"greater_than"in o?n("effect:condition.state.num_of_units_gt_enemies",o):n("effect:condition.state.num_of_units_le_enemies",o);return F(e)?t(r.Fragment,null,n("effect:condition.target.squad"),Ie(e)?q(u.InSquad,e.map(o=>o.in_squad),a,n):Oe(e)?t(r.Fragment,null,q(u.NotInSquad,e[0].not_in_squad,a,n),t("span",null,n("effect:or_symbolic_separator")),q(u.InSquad,e[1].in_squad,a,n)):q(u.InSquad,[e[0].in_squad,e[1].in_squad],a,n)):u.NumOfUnits in e&&Be(e.num_of_units)?t("span",null,c(e.num_of_units)):t(r.Fragment,null,n("effect:condition.target.squad"),P(e).map((o,f,g)=>{const k=()=>t(r.Fragment,null,h(C(g,f),n("effect:and_symbolic_separator")));switch(o[0]){case u.InSquad:return t(r.Fragment,{key:o[0]},q(u.InSquad,o[1],a,n),t(k,null));case u.NotInSquad:return t(r.Fragment,{key:o[0]},q(u.NotInSquad,o[1],a,n),t(k,null));case u.NumOfUnits:{const p=o[1];return Le(p)?t(r.Fragment,{key:o[0]},s(p),t(k,null)):je(p)?t(r.Fragment,{key:o[0]},i(p),t(k,null)):ye(p)?t(r.Fragment,{key:o[0]},n("effect:unit.self"),n("effect:except_preposition"),t(b,{unitAlias:p.unit,exceptUnit:a}),n("effect:condition.state.unit_alias_eq",p),t(k,null)):t(r.Fragment,{key:o[0]},"equal"in p?n("effect:condition.state.num_of_units_eq",p):"greater_or_equal"in p?n("effect:condition.state.num_of_units_ge",p):n("effect:condition.state.num_of_units_le",p),t(k,null))}default:return o}}))},qt=({state:e})=>{const{t:a}=d(),{num_of_units:n}=e;if("unit"in e){const s=a(`effect:unit.${e.unit}`);return t(r.Fragment,null,a("effect:condition.target.enemy"),a("effect:condition.state.num_of_enemies_eq",n),a("effect:and_symbolic_separator"),a("effect:condition.state.unit",{unit:s}))}else return t(r.Fragment,null,"unit"in n?a("effect:condition.target.enemy_unit",n):a("effect:condition.target.enemy"),"equal"in n?a("effect:condition.state.num_of_enemies_eq",n):"less_or_equal"in n?"greater_or_equal"in n?a("effect:condition.state.num_of_enemies",n):a("effect:condition.state.num_of_enemies_le",n):a("effect:condition.state.num_of_enemies_ge",n))},Ct=({condition:e,unitNumber:a})=>{const{t:n}=d();if(!("trigger"in e))return null;switch(e.trigger){case N.StartRound:return t(r.Fragment,null,e.round?typeof e.round=="string"?n(`effect:condition.trigger.start_${e.round}_round`):"at"in e.round?n("effect:condition.trigger.round.at",{round:e.round.at}):"from"in e.round?n("effect:condition.trigger.round.from",{round:e.round.from}):n("effect:condition.trigger.round.until",{round:e.round.until}):n("effect:condition.trigger.start_round"));case N.UseActive1:case N.UseActive2:case N.Hit:case N.HitActive1:case N.HitActive2:return t(r.Fragment,null,[..."round"in e?[n(`effect:condition.trigger.round.${e.round}`)]:[],n(`effect:condition.trigger.${e.trigger}`,{unit:a})].join(""));default:return t(r.Fragment,null,n(`effect:condition.trigger.${e.trigger}`))}},re=e=>{const{t:a}=d(),{unitNumber:n}=e;if(!("state"in e.condition))return null;const s=({show:c})=>t(r.Fragment,null,h(c,a("effect:and_symbolic_separator"))),i=({entry:c,unitNumber:o,needSeparator:f})=>{const[g,k]=c;return g==="self"?t(r.Fragment,{key:g},t(le,{state:k,unitNumber:o}),t(s,{show:f})):g==="squad"?t(r.Fragment,{key:g},t(fe,{key:g,state:k,unitNumber:o}),t(s,{show:f})):t(r.Fragment,{key:g},t(qt,{state:k}),t(s,{show:f}))};return t(r.Fragment,null,"target"in e?P(e.condition.state).map((c,o,f)=>c[0]==="target"?t(r.Fragment,{key:c[0]},t(le,{state:c[1],target:e.target,unitNumber:n}),t(s,{show:C(f,o)})):c[0]==="squad"?t(r.Fragment,{key:c[0]},t(fe,{state:c[1],unitNumber:n}),t(s,{show:C(f,o)})):t(i,{key:c[0],entry:c,unitNumber:n,needSeparator:C(f,o)})):P(e.condition.state).map((c,o,f)=>t(i,{key:c[0],entry:c,unitNumber:n,needSeparator:C(f,o)})),a("effect:case"))},E=e=>{const{t:a}=d(),{condition:n,unitNumber:s}=e,i="trigger"in n&&"state"in n;return t("span",null,t(Ct,{condition:n,unitNumber:s}),h(i,a("effect:separator")),"target"in e?t(re,{condition:e.condition,target:e.target,unitNumber:s}):t(re,{condition:e.condition,unitNumber:s}))},Nt=({target:e})=>{const{t:a}=d(),n=e.conditions.map(s=>a(`effect:unit.${s}`)).join(a("effect:unit_separator"));return t(r.Fragment,null,a("effect:effect.target.kind.enemy"),a("effect:case_particle"),a("effect:condition.state.unit",{unit:n}),a("effect:case"))},Et=({effective:e})=>{const{t:a}=d();return v(e,n=>t("span",null,a(`effect:effective.${n}`)))},Dt=({scaleFactor:e,unitNumber:a})=>{const{t:n}=d();return v(e,s=>{if("per_stack"in s){const i="effect"in s.per_stack?"effect:scale_factor.per_stack_effect":"effect:scale_factor.per_stack";return t("span",null,n(i,s.per_stack))}else switch(s.per_units.type){case"all":return t("span",null,n("effect:scale_factor.per_units"));case"squad":{const{unit:i="ally",except:c}=s.per_units,o=!!c;return t(r.Fragment,null,h(o,t("span",null,n("effect:unit.self"),n("effect:except_preposition"))),F(i)?t(r.Fragment,null,t(b,{unitAlias:i[0],exceptUnit:o?a:void 0}),t("span",null,"Â ",n("effect:unit_separator"),"Â "),t(b,{unitAlias:i[1],exceptUnit:o?a:void 0})):X(i)?t(b,{unitAlias:i,exceptUnit:o?a:void 0}):t("span",null,n(`effect:unit.${i}`)),t("span",null,n("effect:scale_factor.num_of_allies")))}case"enemy":return t("span",null,n("effect:unit.enemy"),v(s.per_units.unit,i=>n(`effect:unit.${i}`)),n(`effect:scale_factor.${s.per_units.variation}`));case"target":{const{unit:i}=s.per_units;return t("span",null,n(`effect:unit.${i}_enemy`),n("effect:scale_factor.num_of_targets"))}default:return s.per_units}})},Ut=({targets:e,unitNumber:a})=>{const{t:n}=d();return t("span",null,h("self"in e,n("effect:effect.target.self")),h("self"in e&&"target"in e,n("effect:and_separator")),"target"in e?"kind"in e?t(xe,{target:e,selfUnitNumber:a}):n("effect:effect.target.target"):null,h("around"in e,n("effect:effect.target.around")),n("effect:to_preposition"))},Rt=({effect:e,unitNumber:a})=>{const{t:n}=d(),s=new wt(e),i=()=>t("div",{css:{fontSize:"0.7em"}},n("effect:or_conjunction"));return t("div",null,t(()=>{if(Ve(e)){const f=e.conditions?e.conditions.length===1?t(E,{condition:e.conditions[0],target:e.target,unitNumber:a}):t(r.Fragment,null,t(E,{condition:e.conditions[0],target:e.target,unitNumber:a}),t(i,null),t(E,{condition:e.conditions[1],target:e.target,unitNumber:a})):null;return t(r.Fragment,null,f,v(s.enemyTargetConditions,g=>t(r.Fragment,null,h(!!f,n("effect:separator")),t(Nt,{target:g}))))}else return v(e.conditions,f=>f.length===1?t(E,{condition:f[0],unitNumber:a}):t(r.Fragment,null,t(E,{condition:f[0],unitNumber:a}),t(i,null),t(E,{condition:f[1],unitNumber:a})))},null),t(({children:f})=>s.hasAnyConditions?s.hasMultipleConditions?t("div",{css:{marginTop:5}},f):t("span",null,n("effect:separator"),f):t("span",null,f),null,t(Et,{effective:s.effective}),t(Dt,{scaleFactor:s.scaleFactor,unitNumber:a}),t(Ut,{targets:s.effectTargets,unitNumber:a}),n("effect:below_effects")))};function S(e,a,n){const s="rate"in a&&a.rate?typeof a.rate=="string"?`${n(`effect:rate.${a.rate}`)}${n("effect:separator")}`:`${n("effect:rate.percentage",{value:D(a.rate)})}${n("effect:separator")}`:"",i=["times"in a&&a.times?n("effect:times",{count:a.times}):void 0,"max_stack"in a&&typeof a.max_stack=="number"?a.max_stack===1?n("effect:does_not_stack"):n("effect:max_stack",{count:a.max_stack}):void 0,"cannot_be_dispelled"in a&&a.cannot_be_dispelled?n("effect:cannot_be_dispelled"):void 0].filter(Ze).join(n("effect:separator"));return`${s}${e}${i?` (${i})`:""}`}function y(e,a){return"term"in e?typeof e.term=="string"?a(`effect:term.${e.term}`):e.term&&a("effect:term.for_rounds",{value:e.term.for_rounds}):void 0}function $(e,a){return"tag"in e?e.tag&&a("effect:tag.format",{tag:e.tag}):void 0}function G(e,a,n){return{tag:$(a,n),detail:S(n(`effect:effect.description.${e}`,{value:a.value}),a,n),term:y(a,n)}}function H(e,a,n){return{tag:$(a,n),detail:S(n(`effect:effect.description.${e}`,{value:D(a)}),a,n),term:y(a,n)}}function ue(e,a,n){return{detail:S(n(`effect:effect.description.${e}`,{tag:a.tag}),a,n),term:y(a,n)}}function de(e,a){return"effect"in e?a(`effect:effect.name.${e.effect}`):e.effects.map(n=>a(`effect:effect.name.${n}`)).join(a("effect:separator"))}function Pt(e,a){const n=y(e[1],a);switch(e[0]){case l.FireResistReverse:case l.IceResistReverse:case l.ElectricResistReverse:case l.AdaptiveFireAttack:case l.AdaptiveElectricAttack:case l.ActionCountUp:case l.ActionCountDown:case l.MinimizeDamage:case l.NullifyDamage:case l.AllBuffBlocking:case l.AllBuffRemoval:case l.AllDebuffRemoval:case l.ColumnProtect:case l.RowProtect:case l.TargetProtect:case l.ReAttack:case l.FollowUpAttack:case l.Brainwashing:case l.IgnoreBarrierDr:case l.IgnoreProtect:case l.IgnoreProtectDeactivate:case l.Reconnaissance:case l.Marked:case l.Provoked:case l.Immovable:case l.Silenced:case l.Stunned:case l.RefundAp:case l.AttackHit:case l.AttackCritical:case l.IgnoreDef:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`),e[1],a),term:n};case l.AMG11Construction:case l.DeployRabbitDField:case l.SummonHologramTiger:case l.GoldenFactoryConstruction:return{tag:$(e[1],a),detail:a(`effect:effect.description.${e[0]}`,{times:e[1].times}),term:n};case l.CooperativeAttack:{const{unit:s,active:i}=e[1];return{tag:$(e[1],a),detail:Ke(s)?a("effect:effect.description.cooperative_attack_form_active",{unit:s,no:i,form:Xe[s].default}):a("effect:effect.description.cooperative_attack",{unit:s,no:i}),term:n}}case l.Push:case l.Pull:case l.RangeUp:case l.RangeUpActive2:case l.FixedDamageOverTime:case l.FixedFireDamageOverTime:case l.FixedIceDamageOverTime:case l.FixedElectricDamageOverTime:case l.MinimizeDamageLessThanValue:case l.Barrier:return G(e[0],e[1],a);case l.RangeDown:return"length"in e[1]?e[1].map(s=>G(e[0],s,a)):G(e[0],e[1],a);case l.BattleContinuation:{const s="value"in e[1]?a("effect:effect.description.battle_continuation",{value:e[1].value}):a("effect:effect.description.battle_continuation_with_hp_rate",{value:D(e[1])});return{tag:$(e[1],a),detail:S(s,e[1],a),term:n}}case l.AtkValueUp:case l.DefValueUp:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{value:Je(e[1])}),e[1],a),term:n};case l.ApUp:case l.ApDown:case l.SetAp:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{value:We(e[1])}),e[1],a),term:n};case l.BuffRemoval:case l.DebuffRemoval:case l.EffectRemoval:{const s=de(e[1],a);return{detail:S(e[1].tag?a(`effect:effect.description.tagged_${e[0]}`,{tag:e[1].tag,effects:s}):a(`effect:effect.description.${e[0]}`,{effects:s}),e[1],a),term:n}}case l.PreventsEffect:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{effects:de(e[1],a)}),e[1],a),term:n};case l.ActivationRatePercentageUp:{const s=D(e[1]),i=e[1].effect;return{detail:S(e[1].tag?a("effect:effect.description.tagged_activation_rate_percentage_up",{tag:e[1].tag,effect:i,value:s}):a("effect:effect.description.activation_rate_percentage_up",{effect:i,value:s}),e[1],a),term:n}}case l.AbsolutelyActivated:return{detail:S(a(`effect:effect.description.${e[0]}`,e[1]),e[1],a),term:n};case l.FormChange:case l.FormRelease:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{form:e[1].form}),e[1],a),term:n};case l.TagStack:case l.TagRelease:return"length"in e[1]?e[1].map(s=>ue(e[0],s,a)):ue(e[0],e[1],a);case l.TagUnstack:return{detail:S(a(`effect:effect.description.${e[0]}`,{tag:e[1].tag,value:e[1].value}),e[1],a),term:n};case l.DamageMultiplierUpByStatus:case l.DamageMultiplierReductionByStatus:case l.CriReductionByStatus:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{status:e[1].status,value:D(e[1])}),e[1],a),term:n};case l.AtkValueUpByUnitValue:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{unit:e[1].unit,value:D(e[1])}),e[1],a),term:n};case l.DamageMultiplierDown:case l.DefDown:case l.AccDown:case l.CriDown:case l.EvaUp:case l.SpdUp:case l.StatusResistUp:case l.DamageReductionUp:return"length"in e[1]?e[1].map(s=>H(e[0],s,a)):H(e[0],e[1],a);default:return H(e[0],e[1],a)}}const pe=({tag:e,detail:a,term:n})=>{const{t:s}=d();return t("div",{css:{display:"flex",fontWeight:"bold",borderRadius:3,backgroundColor:"#1c3042",padding:"3px 8px",marginTop:5}},t("div",null,v(e,i=>t("span",null,i,s("effect:tag_separator"))),t("span",null,a)),t("div",{css:{marginLeft:"auto",textAlign:"right",flexShrink:0}},v(n,i=>t("span",{css:{marginLeft:10,color:"#aaa",fontSize:"0.9em"}},i))))},Vt=({entry:e})=>{const{t:a}=d(),n=Pt(e,a);return"length"in n?t(r.Fragment,null,n.map(s=>t(pe,{key:Ae(),...s}))):t(pe,{...n})},z=({className:e,target:a,details:n,area:s})=>{const{t:i}=d();return t("div",{className:e},t("div",null,t(Z,{variant:"light"},i(`effect:effect.target.${a==="target"?s==="single"?"single":"area":a}`))),P(n).map(o=>t(Vt,{key:Ae(),entry:o})))},It=({effect:e,unitNumber:a,area:n})=>{const s="self"in e.details?e.details.self:void 0,i="target"in e.details?e.details.target:void 0,c="around"in e.details?e.details.around:void 0;return t("div",{css:{border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:5,marginTop:10,padding:5,"& > .skill-effect-details":{marginTop:10}}},t(Rt,{effect:e,unitNumber:a}),v(s,o=>t(z,{className:"skill-effect-details",target:"self",details:o,area:n})),v(i,o=>t(z,{className:"skill-effect-details",target:"target",details:o,area:n})),v(c,o=>t(z,{className:"skill-effect-details",target:"around",details:o,area:n})))},Ot=({skillType:e,unit:a})=>{const n=Qe(e,a);return v(n,([s,i,c])=>t("div",{css:{color:"#ccc",fontSize:"0.8em"}},s.map(o=>t(It,{key:JSON.stringify(o),effect:o,unitNumber:c,area:i}))))},Bt={fontSize:"1.2em",color:"#ccc"},Fe={fontSize:"1.2em",fontWeight:"bold"},ge={...Bt,display:"inline-block",width:"4em"},qe={fontSize:"1.2em","& > .badge":{whiteSpace:"normal"}},me=({children:e,...a})=>t(j,{...a,fluid:!0,css:{padding:0}},e),Lt=({skillType:e,unit:a})=>{const n=et(e,a);return t("div",{css:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:n},n)},jt=({skillType:e,unit:a})=>{const n=tt(e,a);return t("span",{css:{...Fe,color:"#0af"}},n)},yt=({skillType:e,unit:a})=>{const n=at(e,a);return t("span",{css:{...Fe,color:"#cc0"}},n)},Mt=({skillType:e,unit:a})=>{const{t:n}=d(),s=nt(e,a);return h(s,t("div",{css:qe},t(Z,{variant:"rank-up-skill"},n("skill.rank_up"))))},Gt=({skillType:e,unit:a})=>{const{t:n}=d(),s=st(e,a);return v(s,i=>t("div",{css:qe},t(Z,{variant:"secondary"},n(`effect:form.${i}`))))},Ht=[10,9,8,7,6,5,4,3,2,1],zt=({skillType:e,unit:a})=>{const{t:n}=d(),[s,i]=it(e,a);return t("div",{css:{display:"flex",userSelect:"none","& > .dropdown.numeric":{flexShrink:0,width:70}}},t("span",{css:{marginRight:5}},n("lv")),t(ct,{id:"skill-lv-dropdown",items:Ht,value:s,onChange:i}))},R=({eventKey:e})=>{const{t:a}=d(),n=Ye();return t(W.Pane,{eventKey:e},v(n,s=>t(j,{fluid:!0,css:{paddingTop:5}},t(U,{css:{fontSize:"1.4em",color:"#eee"}},t(w,{xs:8,sm:9},t(Lt,{skillType:e,unit:s})),t(w,{xs:4,sm:3},t(zt,{skillType:e,unit:s}))),t(U,null,t(w,{xs:{order:"last",span:12},sm:{order:"first",span:9}},t(bt,{skillType:e,unit:s}),t(Tt,{skillType:e,unit:s}),t(Ot,{skillType:e,unit:s})),t(w,{xs:{order:"first",span:12},sm:{order:"last",span:3}},t(me,{css:{userSelect:"none"}},t(U,null,t(w,{xs:8,sm:12},t(me,null,t(U,{css:{"& > div":{marginTop:5}}},t(w,{xs:{order:1,span:12},sm:{order:2,span:12}},t("span",{css:ge},a("skill.ap")),t(jt,{skillType:e,unit:s})),t(w,{xs:{order:2,span:12},sm:{order:3,span:12}},t("span",{css:ge},a("skill.range")),t(yt,{skillType:e,unit:s})),t(w,{xs:{order:3,span:12},sm:{order:1,span:12}},t(Gt,{skillType:e,unit:s}),t(Mt,{skillType:e,unit:s}))))),t(w,{xs:4,sm:12,css:{"& > div":{marginTop:5}}},t("div",null,t("span",{css:{color:"#ccc"}},a("skill.area"))),t($t,{css:{width:100},skillType:e,unit:s})))))))))},Wt=()=>{const{t:e}=d(),[a,n]=ot();return v(a,s=>t("div",{css:{display:"flex",alignItems:"center",padding:"10px 8px"}},t(L,{placement:"top",overlay:t(K,{id:"tooltip-form-change"},e("form_change"))},t(lt,{"aria-label":"Change unit form",variant:"secondary",svg:t(ft,null),onClick:n})),t("span",{css:{color:"#eee",marginLeft:10}},e(`effect:form.${s.unitForm()}`))))},I=({eventKey:e,active:a,disabled:n,children:s})=>{const i=e.startsWith("active")?"active-skill":"passive-skill";return t(J.Item,null,t(J.Link,{className:i,eventKey:e,active:a,disabled:n},t("span",{css:{display:"inline-block","@media (max-width: 480px)":{width:32},"@media (min-width: 480px)":{width:50}}},s)))},Jt=()=>{const[e,a,n]=ut();return t(I,{eventKey:e,active:a,disabled:!n},n?t(be,{skillType:V.Active1}):t(Te,null),t("span",{className:"sr-only"},"Active skill 1"))},Kt=()=>{const[e,a,n]=dt();return t(I,{eventKey:e,active:a,disabled:!n},n?t(be,{skillType:V.Active2}):t(Te,null),t("span",{className:"sr-only"},"Active skill 2"))},Xt=()=>{const[e,a,n]=pt();return t(I,{eventKey:e,active:a,disabled:!n},n?t(Q,{skillType:V.Passive1}):t(Y,null),t("span",{className:"sr-only"},"Passive skill 1"))},Zt=()=>{const[e,a,n]=gt();return t(I,{eventKey:e,active:a,disabled:!n},n?t(Q,{skillType:V.Passive2}):t(Y,null),t("span",{className:"sr-only"},"Passive skill 2"))},Qt=()=>{const[e,a,n]=mt();return t(I,{eventKey:e,active:a,disabled:!n},n?t(Q,{skillType:V.Passive3}):t(Y,null),t("span",{className:"sr-only"},"Passive skill 3"))},aa=e=>{const[a,n]=rt();return t("div",{...e},t(Wt,null),t(W.Container,{id:"unit-skill-viewer",activeKey:a,onSelect:s=>{n(s??void 0)}},t(J,{variant:"tabs",className:`skill ${a?a.startsWith("active")?"active-skill":"passive-skill":""}`},t(Jt,null),t(Kt,null),t(Xt,null),t(Zt,null),t(Qt,null)),t(W.Content,{css:{minHeight:300}},t(R,{eventKey:"active1"}),t(R,{eventKey:"active2"}),t(R,{eventKey:"passive1"}),t(R,{eventKey:"passive2"}),t(R,{eventKey:"passive3"}))))};export{aa as default};
