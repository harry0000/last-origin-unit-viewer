import{R as p,y as l,B as e,aN as o,aO as x,aq as h,I as u,aP as w,aQ as g,aR as r}from"./index-PacU5Pxt.js";import{S as f}from"./SlotUnavailableOverlay-Cy0ywKXI.js";const k=p.memo(({slot:t})=>{const{t:n}=l();return e("span",{css:{display:"inline-flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",opacity:.5}},e(o,{rounded:!0,draggable:"false",height:32,width:32,alt:n(`status.core_link_${t}`),src:"/last-origin-unit-viewer/icon/placeholder_core_link.webp"}))}),b=({unit:t})=>{const{t:n}=l();return e("span",{css:{display:"inline-block",height:"100%",width:"100%"}},e(o,{fluid:!0,rounded:!0,draggable:"false",sizes:"(max-width: 480px) 47px, (min-width: 480px) 62px",alt:n(`unit:name.${t}`),src:`/last-origin-unit-viewer/unit_icon/${t}.webp`}))},$=({rank:t,type:n,role:i,rate:s})=>{const{t:a}=l();return e("span",{css:{display:"inline-block",height:"100%",width:"100%"}},e("span",{css:{display:"inline-flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:10,"@media (max-width: 480px)":{height:47,width:47},"@media (min-width: 480px)":{height:62,width:62}}},e(x,{sizes:"(max-width: 480px) 24px, (min-width: 480px) 30px",rank:t,role:i}),e("span",{css:{color:"#ccc",fontWeight:"bold","@media (max-width: 480px)":{fontSize:"0.7em"},"@media (min-width: 480px)":{fontSize:"0.9em"}}},a(`unit.type.${n}`))),e("span",{css:{position:"absolute",top:-5,right:0,color:"#0cf",fontWeight:"bold",textShadow:["1px 1px 0px #000, -1px -1px 0px #000","-1px 1px 0px #000,  1px -1px 0px #000","1px 0px 0px #000, -1px  0px 0px #000","0px 1px 0px #000,  0px -1px 0px #000"].join(),"@media (max-width: 480px)":{fontSize:"0.7em"},"@media (min-width: 480px)":{fontSize:"0.9em"}}},"+",s,"%"))},y=({linkedUnit:t})=>"unit"in t?e(b,{unit:t.unit}):e($,{rank:t.rank,type:t.type,role:t.role,rate:t.rate}),N=({eventKey:t,active:n,unit:i,...s})=>{const{t:a}=l();return e(r.Item,{...s,className:"core-link",eventKey:t,active:n},"unit"in i?e(o,{className:"unit",draggable:"false",height:48,width:48,alt:a(`unit:name.${i.unit}`),src:`/last-origin-unit-viewer/unit_icon/${i.unit}.webp`}):e("span",{className:"partial-fit-unit"},e(o,{className:"basic-info-icon",draggable:"false",height:32,width:32,alt:`${a(`unit.rank.${i.rank}`)} ${a(`unit.type.${i.type}`)} ${a(`unit.role.${i.role}`)}`,src:`/last-origin-unit-viewer/icon/${i.rank}_${i.role}.webp`}),e("span",{className:"unit-type"},a(`unit.type.${i.type}`))),e("span",{className:"label"},"+ ",i.rate," %"))},v=({active:t})=>{const{t:n}=l(),i=n("status.unlink");return e(r.Item,{className:"core-link",active:t},e(o,{className:"unit",draggable:"false",height:48,width:48,alt:i,src:"/last-origin-unit-viewer/icon/placeholder_core_link.webp"}),e("span",{className:"label"},i))},S=({value:t,items:n})=>e(r.Menu,{className:"core-link"},e("div",{className:"core-link-unit-list"},e(v,{active:!t}),n.map((i,s)=>e(N,{key:JSON.stringify(i),eventKey:s+"",active:i.rate===(t==null?void 0:t.rate),unit:i})))),C=p.forwardRef(({onClick:t,id:n,children:i},s)=>e("a",{href:"",ref:s,id:n,onClick:a=>{a.preventDefault(),t(a)}},i)),L=({unit:t,slot:n})=>{const i=w(t),[s,a,d,m]=g(t,n);return e(r,{className:"slot core-link",onSelect:c=>{a(c?i[+c]:void 0)}},e(r.Toggle,{as:C,id:`core-link-${n}-dropdown`},e("span",{className:"core-link-toggle-view"},s?e(y,{linkedUnit:s}):e(k,{slot:n}),e(f,{show:!d,availableLv:m}))),e(S,{value:s,items:i}))},z=({slot:t})=>{const n=h();return u(n,i=>e(L,{unit:i,slot:t}))};export{z as default};
