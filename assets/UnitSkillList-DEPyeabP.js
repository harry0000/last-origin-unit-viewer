var te=e=>{throw TypeError(e)};var ae=(e,a,n)=>a.has(e)||te("Cannot "+n);var _=(e,a,n)=>(ae(e,a,"read from private field"),n?n.call(e):a.get(e)),ne=(e,a,n)=>a.has(e)?te("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(e):a.set(e,n),ie=(e,a,n,i)=>(ae(e,a,"write to private field"),i?i.call(e,n):a.set(e,n),n);import{R as f,_ as ke,u as Se,a as he,c as $e,y as d,H as Ee,I as v,B as t,J as b,O as j,T as K,K as M,L as De,M as Ue,N as Re,Q as Pe,U as h,V as se,W as X,X as be,Y as F,Z,$ as ce,a0 as oe,a1 as Ve,a2 as Ie,a3 as N,a4 as le,a5 as P,a6 as Oe,a7 as u,a8 as Be,a9 as je,aa as ye,ab as Le,ac as Me,ad as ze,ae as Ge,af as He,ag as l,ah as D,ai as We,aj as Je,ak as Ke,al as Xe,am as Ze,an as Ae,ao as Q,ap as Qe,aq as Ye,ar as W,as as et,at as tt,au as at,av as nt,aw as it,ax as st,ay as ct,az as ot,S as lt,aA as rt,aB as ft,aC as J,aD as ut,aE as dt,aF as pt,aG as gt,aH as mt,aI as Te,aJ as V,aK as we,aL as Y,aM as ee}from"./index-DIBSFJcF.js";import{C as w}from"./Col-CbM47VlB.js";var _t=["bsPrefix","fluid","as","className"],vt={fluid:!1},y=f.forwardRef(function(e,a){var n=e.bsPrefix,i=e.fluid,s=e.as,c=s===void 0?"div":s,o=e.className,r=ke(e,_t),p=Se(n,"container"),k=typeof i=="string"?"-"+i:"-fluid";return f.createElement(c,he({ref:a},r,{className:$e(o,i?""+p+k:p)}))});y.displayName="Container";y.defaultProps=vt;var kt=["bsPrefix","className","noGutters","as"],St=["xl","lg","md","sm","xs"],ht={noGutters:!1},U=f.forwardRef(function(e,a){var n=e.bsPrefix,i=e.className,s=e.noGutters,c=e.as,o=c===void 0?"div":c,r=ke(e,kt),p=Se(n,"row"),k=p+"-cols",m=[];return St.forEach(function(T){var O=r[T];delete r[T];var B;O!=null&&typeof O=="object"?B=O.cols:B=O;var Ne=T!=="xs"?"-"+T:"";B!=null&&m.push(""+k+Ne+"-"+B)}),f.createElement(o,he({ref:a},r,{className:$e.apply(void 0,[i,p,s&&"no-gutters"].concat(m))}))});U.displayName="Row";U.defaultProps=ht;const xe={[b.Effective]:"#d0191d",[b.High]:"#ff8f03",[b.Middle]:"#ba5a03",[b.Low]:"#763316",[b.Weak]:"#6b3f31",[b.None]:"#4b4b4d"},re=e=>e!==b.None?{borderRadius:2,position:"absolute",top:-3,bottom:4,left:-3,right:4,opacity:.8,backgroundColor:xe[e]}:{},x=({selected:e,type:a,...n})=>{const{t:i}=d();return t("td",{css:{border:"5px solid transparent",width:"33%",position:"relative","&::after":{content:'" "',display:"block",marginTop:"100%"}}},t("div",{css:{borderRadius:2,position:"absolute",inset:0,backgroundColor:e?"#16d4d4":xe[b.None]}}),a===b.High||a===b.Middle||a===b.Low||a===b.Weak?t(j,{...n,placement:"auto",overlay:t(K,{id:"tooltip-aoe-cell"},i(`skill.effective_rate.${a}`))},t("div",{css:re(a)})):t("div",{css:re(a)}))},$t=({skillType:e,unit:a,...n})=>{const{t:i}=d(),s=Ee(e,a);return v(s,c=>t("div",{...n},t("table",{css:{borderCollapse:"collapse",width:"100%",transform:"skewX(-9deg)"}},t("tbody",null,t("tr",null,t(x,{selected:c.select===7,type:c.area[0]}),t(x,{selected:c.select===8,type:c.area[1]}),t(x,{selected:c.select===9,type:c.area[2]})),t("tr",null,t(x,{selected:c.select===4,type:c.area[3]}),t(x,{selected:c.select===5,type:c.area[4]}),t(x,{selected:c.select===6,type:c.area[5]})),t("tr",null,t(x,{selected:c.select===1,type:c.area[6]}),t(x,{selected:c.select===2,type:c.area[7]}),t(x,{selected:c.select===3,type:c.area[8]})))),t("span",{css:{color:"#16d4d4"}},c.select?" ":i("skill.fixed_area"))))},bt={[M.Fire]:"#c33",[M.Ice]:"#0cf",[M.Electric]:"#fc0"},At=({skillType:e,unit:a})=>{const{t:n}=d(),i=De(e,a);if(!i[0])return null;const[s,c]=i;return t("div",{css:{color:"#ccc",marginTop:10}},t("span",null,c===Re.Single?n("effect:damage_deal.target.single"):n("effect:damage_deal.target.area")),v(s.effective,o=>t("span",null,n(`effect:effective.${o}`),n("effect:separator"))),t("span",null,n("status.atk")),t("span",{css:{margin:"0 5px",color:"#fc0",fontWeight:"bold"}},Ue(s),"%"),t("span",null,n("effect:as_preposition")),v(s.attribute,o=>t("span",{css:{margin:"0 5px",color:bt[o],fontWeight:600}},n(`effect:attribute.${o}`))),t("span",null,n("effect:damage")))},Tt=({skillType:e,unit:a})=>{const{t:n}=d(),i=Pe(e,a);return h(i,t("div",{css:{color:"#ccc",fontSize:"0.9em",marginTop:10}},t("span",null,n("effect:effects_as_equipment.description.prefix")),t(j,{placement:"auto",overlay:t(K,{id:"tooltip-effects-as-equipment"},n("effect:effects_as_equipment.annotation"))},t("span",{css:{cursor:"help",textDecoration:"underline"}},n("effect:effects_as_equipment.description.as_equipment"))),t("span",null,n("effect:effects_as_equipment.description.suffix"))))},A=({unitAlias:e,exceptUnit:a})=>{const{t:n}=d(),i=t(se,{id:"popover-unit-alias",css:{opacity:"0.9"}},t(se.Content,null,[...X[e]].filter(s=>s!==a).map(s=>t("div",{key:s,css:{textAlign:"left"}},n("unit:display",{number:s})))));return t(j,{placement:"auto",overlay:i},t("span",{css:{display:"inline-block",cursor:"help",textDecoration:"underline"}},n(`effect:unit.${e}`)))},Fe=({target:e,selfUnitNumber:a})=>{const{t:n}=d();function i(r){return n("effect:with_quotes",{value:n("unit:display",{number:r})})}const s="conditions"in e&&e.conditions,c="except"in e?e.except:void 0,o=e.kind===be.AllyExceptSelf?a:F(c)?void 0:c;return t(f.Fragment,null,n(`effect:effect.target.kind.${e.kind}`),s||c?n("effect:of_preposition"):null,v(c,r=>t(f.Fragment,null,F(r)?`${i(r[0])}${n("effect:unit_separator")}${i(r[1])}`:i(r),n("effect:except_preposition"),s?null:n("effect:unit.unit"))),s?e.conditions.map((r,p,k)=>{const m=++p<k.length?n("effect:unit_separator"):"";if(typeof r=="number")return i(r)+m;if(typeof r=="string")return Z(r)?t(f.Fragment,{key:r},t(A,{unitAlias:r,exceptUnit:o}),m):n(`effect:unit.${r}`)+m;if("alias"in r){const T="type"in r?n(`effect:unit.${r.type}`):"role"in r?n(`effect:unit.${r.role}`):null;return t(f.Fragment,{key:JSON.stringify(r)},t(A,{unitAlias:r.alias,exceptUnit:o}),T?n("effect:of_preposition"):null,T,m)}else{if("not_alias"in r)return t(f.Fragment,{key:JSON.stringify(r)},t(A,{unitAlias:r.not_alias,exceptUnit:o}),n("effect:negative_form"),"type"in r?n(`effect:unit.${r.type}`):"role"in r?n(`effect:unit.${r.role}`):n("effect:unit.unit"),m);if("kind"in r){const T="type"in r?r.type:r.role;return n(`effect:unit.${T}`)+n(`effect:unit.${r.kind}`)+m}else return n(`effect:unit.${r.type}`)+n(`effect:unit.${r.role}`)+m}}):null)};var g;class wt{constructor(a){ne(this,g);ie(this,g,a)}get enemyTargetConditions(){const a=!_(this,g).conditions||_(this,g).conditions.every(s=>!("state"in s)||!("target"in s.state)),n=!ce(_(this,g).details);if(a&&n&&oe(_(this,g))&&_(this,g).target.kind===be.Enemy){const{kind:s,conditions:c}=_(this,g).target;return c&&{kind:s,conditions:c}}}get hasAnyConditions(){return!!_(this,g).conditions||!!this.enemyTargetConditions}get hasMultipleConditions(){var a;return(((a=_(this,g).conditions)==null?void 0:a.length)??0)>1}get effective(){return"effective"in _(this,g)?_(this,g).effective:void 0}get scaleFactor(){return"scale_factor"in _(this,g)?_(this,g).scale_factor:void 0}get effectTargets(){var i;const a=Ve(_(this,g).details);if(ce(_(this,g).details)&&oe(_(this,g))){const s=(i=_(this,g).conditions)==null?void 0:i.some(c=>"state"in c&&"target"in c.state);return Object.assign(a?{self:!0}:{},{target:!0,...s?{}:_(this,g).target})}else return a?{self:!0}:{around:!0}}}g=new WeakMap;function C(e,a){return++a<e.length}function xt(e,a,n){switch(e[0]){case u.HpGreaterOrEqual:case u.HpLessOrEqual:case u.HpGreaterThan:case u.HpLessThan:return t("span",null,n(`effect:condition.state.${e[0]}`,{value:e[1]}));case u.HpRateGreaterOrEqualThanSelf:return t("span",null,n(`effect:condition.state.${e[0]}`));case u.StatusGreaterThanSelf:case u.StatusLessThanSelf:return t("span",null,n(`effect:condition.state.${e[0]}`,e[1]));case u.StatusGreaterOrEqualThan:return t("span",null,n(`effect:condition.state.${e[0]}`,e[1]));case u.RankGreaterOrEqual:return t("span",null,n(`effect:condition.state.${e[0]}`,{rank:e[1]}));case u.Affected:{const i=e[1];return F(i)?t("span",null,n("effect:condition.state.affected_both",{effect:{0:i[0],1:i[1]}})):t("span",null,n(`effect:condition.state.${e[0]}`,{effect:i}))}case u.NotAffected:{const i=e[1].map(s=>n(`effect:effect.name.${s}`)).join(n("effect:and_symbolic_separator"));return t("span",null,n(`effect:condition.state.${e[0]}`,{effects:i}))}case u.AffectedBy:return Ft(e[1],n);case u.AffectedActiveBy:return t("span",null,t(A,{unitAlias:e[1].alias}),n("effect:condition.state.affected_active_by_alias"));case u.Tagged:{const i=e[1];return F(i)?t("span",null,n("effect:condition.state.multiple_tagged",{tag1:i[0],tag2:i[1]})):t("span",null,n(`effect:condition.state.${e[0]}`,{tag:i}))}case u.NotTagged:return t("span",null,n(`effect:condition.state.${e[0]}`,{tag:e[1]}));case u.TaggedAffected:case u.NotTaggedAffected:return t("span",null,n(`effect:condition.state.${e[0]}`,e[1]));case u.Stack:if("effect"in e[1])return n("effect:condition.state.tag_effect_stack_ge",e[1]);if("equal"in e[1])return n("effect:condition.state.tag_stack_eq",e[1]);{const{tag:i}=e[1],s=F(i),c=s?"tags_":"tag_",o="greater_or_equal"in e[1]?"stack_ge":"stack_le",r={...e[1],...s?{tags:i.map(p=>n("effect:tag.format",{tag:p})).join(n("effect:or_symbolic_separator"))}:{}};return n(`effect:condition.state.${c}${o}`,r)}case u.Form:return t("span",null,n(`effect:condition.state.${e[0]}`,{form:e[1]}));case u.Equipped:{const i=n(`equipment:${e[1]}`);return t("span",null,n(`effect:condition.state.${e[0]}`,{equipment:i}))}case u.NotEquipped:{const i=e[1].map(s=>`${n("effect:with_quotes",{value:n(`equipment:${s}`)})}`).join(n("effect:unit_separator"));return t("span",null,n(`effect:condition.state.${e[0]}`,{equipments:i}))}case u.Grid:return t("span",null,n(`effect:condition.state.${e[0]}`,{grid:e[1]}));case u.Unit:return q(e[0],e[1],a,n);case u.NumOfUnits:return t("span",null,n("effect:condition.state.cross_adjacent_enemy_ge",e[1]));default:return e}}function Ft(e,a){if("alias"in e)return t(f.Fragment,null,a("effect:with_quotes",{value:a("unit:display",{number:e.except})}),a("effect:except_preposition"),t(A,{unitAlias:e.alias,exceptUnit:e.except}),a("effect:condition.state.affected_by_alias"));if("effect"in e){const n="unit"in e?"affected_effect_by":"affected_equipment_effect_by";return t("span",null,a(`effect:condition.state.${n}`,e))}else return t("span",null,a("effect:condition.state.affected_by",e))}function q(e,a,n,i){function s(c){return i("effect:with_quotes",{value:i("unit:display",{number:c})})}if(typeof a=="number")return t("span",null,i(`effect:condition.state.${e}`,{unit:s(a)}));if(F(a)){let c;if(Me(a)||a[0]===ze.Light)c=`${i(`effect:unit.${a[0]}`)}${i("effect:unit_separator")}${i(`effect:unit.${a[1]}`)}`;else if(Ge(a))c=`${i(`effect:unit.${a[0]}`)}${i("effect:unit_separator")}${s(a[1])}`;else if(He(a)){const o=i("effect:condition.state.form_unit",a[0]),r=i("effect:condition.state.equipped_unit",a[1]);c=`${o}${i("effect:unit_separator")}${r}`}else{const o=e===u.NotInSquad?i("effect:and_separator"):i("effect:unit_separator");c=a.map(r=>s(r)).join(o)}return t("span",null,i(`effect:condition.state.${e}`,{unit:c}))}else if(typeof a=="string"){const c=e===u.InSquad||e===u.NotInSquad;if(Z(a))return t(f.Fragment,null,h(c&&X[a].has(n),t("span",null,i("effect:unit.self"),i("effect:except_preposition"))),t(A,{unitAlias:a,exceptUnit:c?n:void 0}),t("span",null,i(`effect:condition.state.${e}`,{unit:""})));{const o=a!=="cross_adjacent"&&a!=="armored_bulgasari"&&a!=="golden_factory";return t(f.Fragment,null,h(c&&o,t("span",null,i("effect:unit.self"),i("effect:except_preposition"))),t("span",null,i(`effect:condition.state.${e}`,{unit:i(`effect:unit.${a}`)})))}}else{if("alias"in a)return t(f.Fragment,null,t(A,{unitAlias:a.alias}),i("effect:of_preposition"),i(`effect:unit.${a.role}`),i(`effect:condition.state.${e}`,{unit:""}));if("equipment"in a)return t("span",null,i("effect:condition.state.affected_equipment_effect_by",a));if("equipped"in a)return t("span",null,i("effect:condition.state.equipped_unit",a));if("form"in a)return t("span",null,i("effect:condition.state.form_unit",a));if(u.Tagged in a){const c="unit"in a?s(a.unit):i("effect:unit.ally");return t("span",null,i("effect:condition.state.tagged",{tag:a.tagged}),i("effect:condition.state.in_squad",{unit:c}))}else return t("span",null,i("effect:condition.state.affected_effect_by",a.affected_by),i("effect:condition.state.in_squad",{unit:i("effect:unit.ally")}))}}const fe=e=>{const{t:a}=d(),{state:n,unitNumber:i}=e;return t(f.Fragment,null,"target"in e?t(f.Fragment,null,t(Fe,{target:e.target,selfUnitNumber:i}),a("effect:case_particle")):a("effect:condition.target.self"),n.map((s,c)=>t(f.Fragment,{key:JSON.stringify(s)},P(s).map((o,r,p)=>t(f.Fragment,{key:o[0]},xt(o,i,a),h(C(p,r),t("span",null,a("effect:and_symbolic_separator"))))),h(C(n,c),t("span",null,a("effect:or_symbolic_separator"))))))},ue=({state:e,unitNumber:a})=>{const{t:n}=d(),i=o=>"equal"in o?n("effect:condition.state.cross_adjacent_eq",o):"less_or_equal"in o?n("effect:condition.state.cross_adjacent",o):n("effect:condition.state.cross_adjacent_ge",o),s=o=>n("effect:condition.state.num_of_defender_armored_bulgasari",o),c=o=>"less_than"in o?n("effect:condition.state.num_of_allies_lt_enemies",o):"greater_than"in o?n("effect:condition.state.num_of_units_gt_enemies",o):n("effect:condition.state.num_of_units_le_enemies",o);return F(e)?t(f.Fragment,null,n("effect:condition.target.squad"),Oe(e)?q(u.InSquad,e.map(o=>o.in_squad),a,n):Be(e)?t(f.Fragment,null,q(u.NotInSquad,e[0].not_in_squad,a,n),t("span",null,n("effect:or_symbolic_separator")),q(u.InSquad,e[1].in_squad,a,n)):q(u.InSquad,[e[0].in_squad,e[1].in_squad],a,n)):u.NumOfUnits in e&&je(e.num_of_units)?t("span",null,c(e.num_of_units)):t(f.Fragment,null,n("effect:condition.target.squad"),P(e).map((o,r,p)=>{const k=()=>t(f.Fragment,null,h(C(p,r),n("effect:and_symbolic_separator")));switch(o[0]){case u.InSquad:return t(f.Fragment,{key:o[0]},q(u.InSquad,o[1],a,n),t(k,null));case u.NotInSquad:return t(f.Fragment,{key:o[0]},q(u.NotInSquad,o[1],a,n),t(k,null));case u.NumOfUnits:{const m=o[1];return ye(m)?t(f.Fragment,{key:o[0]},i(m),t(k,null)):Le(m)?t(f.Fragment,{key:o[0]},s(m),t(k,null)):t(f.Fragment,{key:o[0]},"equal"in m?n("effect:condition.state.num_of_units_eq",m):"greater_or_equal"in m?n("effect:condition.state.num_of_units_ge",m):n("effect:condition.state.num_of_units_le",m),t(k,null))}default:return o}}))},qt=({state:e})=>{const{t:a}=d(),{num_of_units:n}=e;if("unit"in e){const i=a(`effect:unit.${e.unit}`);return t(f.Fragment,null,a("effect:condition.target.enemy"),a("effect:condition.state.num_of_enemies_eq",n),a("effect:and_symbolic_separator"),a("effect:condition.state.unit",{unit:i}))}else return t(f.Fragment,null,"unit"in n?a("effect:condition.target.enemy_unit",n):a("effect:condition.target.enemy"),"equal"in n?a("effect:condition.state.num_of_enemies_eq",n):"less_or_equal"in n?"greater_or_equal"in n?a("effect:condition.state.num_of_enemies",n):a("effect:condition.state.num_of_enemies_le",n):a("effect:condition.state.num_of_enemies_ge",n))},Ct=({condition:e,unitNumber:a})=>{const{t:n}=d();if(!("trigger"in e))return null;switch(e.trigger){case N.StartRound:return t(f.Fragment,null,e.round?typeof e.round=="string"?n(`effect:condition.trigger.start_${e.round}_round`):"at"in e.round?n("effect:condition.trigger.round.at",{round:e.round.at}):"from"in e.round?n("effect:condition.trigger.round.from",{round:e.round.from}):n("effect:condition.trigger.round.until",{round:e.round.until}):n("effect:condition.trigger.start_round"));case N.UseActive1:case N.UseActive2:case N.HitActive1:case N.HitActive2:return t(f.Fragment,null,[..."round"in e?[n(`effect:condition.trigger.round.${e.round}`)]:[],n(`effect:condition.trigger.${e.trigger}`,{unit:a})].join(""));case N.SeizeOpportunity:return t(f.Fragment,null,[...X[le.NotApplicableForSeizeOpportunity]].map(i=>n("effect:with_quotes",{value:n("unit:display",{number:i})})).join(n("effect:unit_separator")),n("effect:except_preposition"),t(A,{unitAlias:le.ApplicableForSeizeOpportunity}),n("effect:case_particle"),n(`effect:condition.trigger.${e.trigger}`));default:return t(f.Fragment,null,n(`effect:condition.trigger.${e.trigger}`))}},de=e=>{const{t:a}=d(),{unitNumber:n}=e;if(!("state"in e.condition))return null;const i=({show:c})=>t(f.Fragment,null,h(c,a("effect:and_symbolic_separator"))),s=({entry:c,unitNumber:o,needSeparator:r})=>{const[p,k]=c;return p==="self"?t(f.Fragment,{key:p},t(fe,{state:k,unitNumber:o}),t(i,{show:r})):p==="squad"?t(f.Fragment,{key:p},t(ue,{key:p,state:k,unitNumber:o}),t(i,{show:r})):t(f.Fragment,{key:p},t(qt,{state:k}),t(i,{show:r}))};return t(f.Fragment,null,"target"in e?P(e.condition.state).map((c,o,r)=>c[0]==="target"?t(f.Fragment,{key:c[0]},t(fe,{state:c[1],target:e.target,unitNumber:n}),t(i,{show:C(r,o)})):c[0]==="squad"?t(f.Fragment,{key:c[0]},t(ue,{state:c[1],unitNumber:n}),t(i,{show:C(r,o)})):t(s,{key:c[0],entry:c,unitNumber:n,needSeparator:C(r,o)})):P(e.condition.state).map((c,o,r)=>t(s,{key:c[0],entry:c,unitNumber:n,needSeparator:C(r,o)})),a("effect:case"))},E=e=>{const{t:a}=d(),{condition:n,unitNumber:i}=e,s="trigger"in n&&"state"in n;return t("span",null,t(Ct,{condition:n,unitNumber:i}),h(s,a("effect:separator")),"target"in e?t(de,{condition:e.condition,target:e.target,unitNumber:i}):t(de,{condition:e.condition,unitNumber:i}))},Nt=({target:e})=>{const{t:a}=d(),n=e.conditions.map(i=>a(`effect:unit.${i}`)).join(a("effect:unit_separator"));return t(f.Fragment,null,a("effect:effect.target.kind.enemy"),a("effect:case_particle"),a("effect:condition.state.unit",{unit:n}),a("effect:case"))},Et=({effective:e})=>{const{t:a}=d();return v(e,n=>t("span",null,a(`effect:effective.${n}`)))},Dt=({scaleFactor:e,unitNumber:a})=>{const{t:n}=d();return v(e,i=>{if("per_stack"in i){const s="effect"in i.per_stack?"effect:scale_factor.per_stack_effect":"effect:scale_factor.per_stack";return t("span",null,n(s,i.per_stack))}else switch(i.per_units.type){case"all":return t("span",null,n("effect:scale_factor.per_units"));case"squad":{const{unit:s="ally",except:c}=i.per_units,o=!!c;return t(f.Fragment,null,h(o,t("span",null,n("effect:unit.self"),n("effect:except_preposition"))),F(s)?t(f.Fragment,null,t(A,{unitAlias:s[0],exceptUnit:o?a:void 0}),t("span",null," ",n("effect:unit_separator")," "),t(A,{unitAlias:s[1],exceptUnit:o?a:void 0})):Z(s)?t(A,{unitAlias:s,exceptUnit:o?a:void 0}):t("span",null,n(`effect:unit.${s}`)),t("span",null,n("effect:scale_factor.num_of_allies")))}case"enemy":return t("span",null,n("effect:unit.enemy"),v(i.per_units.unit,s=>n(`effect:unit.${s}`)),n(`effect:scale_factor.${i.per_units.variation}`));case"target":{const{unit:s}=i.per_units;return t("span",null,n(`effect:unit.${s}_enemy`),n("effect:scale_factor.num_of_targets"))}default:return i.per_units}})},Ut=({targets:e,unitNumber:a})=>{const{t:n}=d();return t("span",null,h("self"in e,n("effect:effect.target.self")),h("self"in e&&"target"in e,n("effect:and_separator")),"target"in e?"kind"in e?t(Fe,{target:e,selfUnitNumber:a}):n("effect:effect.target.target"):null,h("around"in e,n("effect:effect.target.around")),n("effect:to_preposition"))},Rt=({effect:e,unitNumber:a})=>{const{t:n}=d(),i=new wt(e),s=()=>t("div",{css:{fontSize:"0.7em"}},n("effect:or_conjunction"));return t("div",null,t(()=>{if(Ie(e)){const r=e.conditions?e.conditions.length===1?t(E,{condition:e.conditions[0],target:e.target,unitNumber:a}):t(f.Fragment,null,t(E,{condition:e.conditions[0],target:e.target,unitNumber:a}),t(s,null),t(E,{condition:e.conditions[1],target:e.target,unitNumber:a})):null;return t(f.Fragment,null,r,v(i.enemyTargetConditions,p=>t(f.Fragment,null,h(!!r,n("effect:separator")),t(Nt,{target:p}))))}else return v(e.conditions,r=>r.length===1?t(E,{condition:r[0],unitNumber:a}):t(f.Fragment,null,t(E,{condition:r[0],unitNumber:a}),t(s,null),t(E,{condition:r[1],unitNumber:a})))},null),t(({children:r})=>i.hasAnyConditions?i.hasMultipleConditions?t("div",{css:{marginTop:5}},r):t("span",null,n("effect:separator"),r):t("span",null,r),null,t(Et,{effective:i.effective}),t(Dt,{scaleFactor:i.scaleFactor,unitNumber:a}),t(Ut,{targets:i.effectTargets,unitNumber:a}),n("effect:below_effects")))};function S(e,a,n){const i="rate"in a&&a.rate?typeof a.rate=="string"?`${n(`effect:rate.${a.rate}`)}${n("effect:separator")}`:`${n("effect:rate.percentage",{value:D(a.rate)})}${n("effect:separator")}`:"",s=["times"in a&&a.times?n("effect:times",{count:a.times}):void 0,"max_stack"in a&&typeof a.max_stack=="number"?a.max_stack===1?n("effect:does_not_stack"):n("effect:max_stack",{count:a.max_stack}):void 0,"cannot_be_dispelled"in a&&a.cannot_be_dispelled?n("effect:cannot_be_dispelled"):void 0].filter(Ze).join(n("effect:separator"));return`${i}${e}${s?` (${s})`:""}`}function L(e,a){return"term"in e?typeof e.term=="string"?a(`effect:term.${e.term}`):e.term&&a("effect:term.for_rounds",{value:e.term.for_rounds}):void 0}function $(e,a){return"tag"in e?e.tag&&a("effect:tag.format",{tag:e.tag}):void 0}function z(e,a,n){return{tag:$(a,n),detail:S(n(`effect:effect.description.${e}`,{value:a.value}),a,n),term:L(a,n)}}function G(e,a,n){return{tag:$(a,n),detail:S(n(`effect:effect.description.${e}`,{value:D(a)}),a,n),term:L(a,n)}}function pe(e,a,n){return{detail:S(n(`effect:effect.description.${e}`,{tag:a.tag}),a,n),term:L(a,n)}}function ge(e,a){return"effect"in e?a(`effect:effect.name.${e.effect}`):e.effects.map(n=>a(`effect:effect.name.${n}`)).join(a("effect:separator"))}function Pt(e,a){const n=L(e[1],a);switch(e[0]){case l.FireResistReverse:case l.IceResistReverse:case l.ElectricResistReverse:case l.AdaptiveFireAttack:case l.AdaptiveElectricAttack:case l.ActionCountUp:case l.ActionCountDown:case l.MinimizeDamage:case l.NullifyDamage:case l.AllBuffBlocking:case l.AllBuffRemoval:case l.AllDebuffRemoval:case l.ColumnProtect:case l.RowProtect:case l.TargetProtect:case l.ReAttack:case l.FollowUpAttack:case l.IgnoreBarrierDr:case l.IgnoreProtect:case l.IgnoreProtectDeactivate:case l.Reconnaissance:case l.Marked:case l.Provoked:case l.Immovable:case l.Silenced:case l.Stunned:case l.RefundAp:case l.AttackHit:case l.AttackCritical:case l.IgnoreDef:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`),e[1],a),term:n};case l.AMG11Construction:case l.DeployRabbitDField:case l.SummonHologramTiger:case l.GoldenFactoryConstruction:return{tag:$(e[1],a),detail:a(`effect:effect.description.${e[0]}`,{times:e[1].times}),term:n};case l.CooperativeAttack:{const{unit:i,active:s}=e[1];return{tag:$(e[1],a),detail:Ke(i)?a("effect:effect.description.cooperative_attack_form_active",{unit:i,no:s,form:Xe[i].default}):a("effect:effect.description.cooperative_attack",{unit:i,no:s}),term:n}}case l.Push:case l.Pull:case l.RangeUp:case l.RangeUpActive2:case l.FixedDamageOverTime:case l.FixedFireDamageOverTime:case l.FixedIceDamageOverTime:case l.FixedElectricDamageOverTime:case l.MinimizeDamageLessThanValue:case l.Barrier:return z(e[0],e[1],a);case l.RangeDown:return"length"in e[1]?e[1].map(i=>z(e[0],i,a)):z(e[0],e[1],a);case l.BattleContinuation:{const i="value"in e[1]?a("effect:effect.description.battle_continuation",{value:e[1].value}):a("effect:effect.description.battle_continuation_with_hp_rate",{value:D(e[1])});return{tag:$(e[1],a),detail:S(i,e[1],a),term:n}}case l.AtkValueUp:case l.DefValueUp:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{value:Je(e[1])}),e[1],a),term:n};case l.ApUp:case l.ApDown:case l.SetAp:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{value:We(e[1])}),e[1],a),term:n};case l.BuffRemoval:case l.DebuffRemoval:case l.EffectRemoval:{const i=ge(e[1],a);return{detail:S(e[1].tag?a(`effect:effect.description.tagged_${e[0]}`,{tag:e[1].tag,effects:i}):a(`effect:effect.description.${e[0]}`,{effects:i}),e[1],a),term:n}}case l.PreventsEffect:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{effects:ge(e[1],a)}),e[1],a),term:n};case l.ActivationRatePercentageUp:{const i=D(e[1]),s=e[1].effect;return{detail:S(e[1].tag?a("effect:effect.description.tagged_activation_rate_percentage_up",{tag:e[1].tag,effect:s,value:i}):a("effect:effect.description.activation_rate_percentage_up",{effect:s,value:i}),e[1],a),term:n}}case l.AbsolutelyActivated:return{detail:S(a(`effect:effect.description.${e[0]}`,e[1]),e[1],a),term:n};case l.FormChange:case l.FormRelease:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{form:e[1].form}),e[1],a),term:n};case l.TagStack:case l.TagRelease:return"length"in e[1]?e[1].map(i=>pe(e[0],i,a)):pe(e[0],e[1],a);case l.TagUnstack:return{detail:S(a(`effect:effect.description.${e[0]}`,{tag:e[1].tag,value:e[1].value}),e[1],a),term:n};case l.DamageMultiplierUpByStatus:case l.DamageMultiplierReductionByStatus:case l.CriReductionByStatus:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{status:e[1].status,value:D(e[1])}),e[1],a),term:n};case l.AtkValueUpByUnitValue:return{tag:$(e[1],a),detail:S(a(`effect:effect.description.${e[0]}`,{unit:e[1].unit,value:D(e[1])}),e[1],a),term:n};case l.DamageMultiplierDown:case l.DefDown:case l.AccDown:case l.CriDown:case l.EvaUp:case l.SpdUp:case l.StatusResistUp:case l.DamageReductionUp:return"length"in e[1]?e[1].map(i=>G(e[0],i,a)):G(e[0],e[1],a);default:return G(e[0],e[1],a)}}const me=({tag:e,detail:a,term:n})=>{const{t:i}=d();return t("div",{css:{display:"flex",fontWeight:"bold",borderRadius:3,backgroundColor:"#1c3042",padding:"3px 8px",marginTop:5}},t("div",null,v(e,s=>t("span",null,s,i("effect:tag_separator"))),t("span",null,a)),t("div",{css:{marginLeft:"auto",textAlign:"right",flexShrink:0}},v(n,s=>t("span",{css:{marginLeft:10,color:"#aaa",fontSize:"0.9em"}},s))))},Vt=({entry:e})=>{const{t:a}=d(),n=Pt(e,a);return"length"in n?t(f.Fragment,null,n.map(i=>t(me,{key:Ae(),...i}))):t(me,{...n})},H=({className:e,target:a,details:n,area:i})=>{const{t:s}=d();return t("div",{className:e},t("div",null,t(Q,{variant:"light"},s(`effect:effect.target.${a==="target"?i==="single"?"single":"area":a}`))),P(n).map(o=>t(Vt,{key:Ae(),entry:o})))},It=({effect:e,unitNumber:a,area:n})=>{const i="self"in e.details?e.details.self:void 0,s="target"in e.details?e.details.target:void 0,c="around"in e.details?e.details.around:void 0;return t("div",{css:{border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:5,marginTop:10,padding:5,"& > .skill-effect-details":{marginTop:10}}},t(Rt,{effect:e,unitNumber:a}),v(i,o=>t(H,{className:"skill-effect-details",target:"self",details:o,area:n})),v(s,o=>t(H,{className:"skill-effect-details",target:"target",details:o,area:n})),v(c,o=>t(H,{className:"skill-effect-details",target:"around",details:o,area:n})))},Ot=({skillType:e,unit:a})=>{const n=Qe(e,a);return v(n,([i,s,c])=>t("div",{css:{color:"#ccc",fontSize:"0.8em"}},i.map(o=>t(It,{key:JSON.stringify(o),effect:o,unitNumber:c,area:s}))))},Bt={fontSize:"1.2em",color:"#ccc"},qe={fontSize:"1.2em",fontWeight:"bold"},_e={...Bt,display:"inline-block",width:"4em"},Ce={fontSize:"1.2em","& > .badge":{whiteSpace:"normal"}},ve=({children:e,...a})=>t(y,{...a,fluid:!0,css:{padding:0}},e),jt=({skillType:e,unit:a})=>{const n=et(e,a);return t("div",{css:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},title:n},n)},yt=({skillType:e,unit:a})=>{const n=tt(e,a);return t("span",{css:{...qe,color:"#0af"}},n)},Lt=({skillType:e,unit:a})=>{const n=at(e,a);return t("span",{css:{...qe,color:"#cc0"}},n)},Mt=({skillType:e,unit:a})=>{const{t:n}=d(),i=nt(e,a);return h(i,t("div",{css:Ce},t(Q,{variant:"rank-up-skill"},n("skill.rank_up"))))},zt=({skillType:e,unit:a})=>{const{t:n}=d(),i=it(e,a);return v(i,s=>t("div",{css:Ce},t(Q,{variant:"secondary"},n(`effect:form.${s}`))))},Gt=[10,9,8,7,6,5,4,3,2,1],Ht=({skillType:e,unit:a})=>{const{t:n}=d(),[i,s]=st(e,a);return t("div",{css:{display:"flex",userSelect:"none","& > .dropdown.numeric":{flexShrink:0,width:70}}},t("span",{css:{marginRight:5}},n("lv")),t(ct,{id:"skill-lv-dropdown",items:Gt,value:i,onChange:s}))},R=({eventKey:e})=>{const{t:a}=d(),n=Ye();return t(W.Pane,{eventKey:e},v(n,i=>t(y,{fluid:!0,css:{paddingTop:5}},t(U,{css:{fontSize:"1.4em",color:"#eee"}},t(w,{xs:8,sm:9},t(jt,{skillType:e,unit:i})),t(w,{xs:4,sm:3},t(Ht,{skillType:e,unit:i}))),t(U,null,t(w,{xs:{order:"last",span:12},sm:{order:"first",span:9}},t(At,{skillType:e,unit:i}),t(Tt,{skillType:e,unit:i}),t(Ot,{skillType:e,unit:i})),t(w,{xs:{order:"first",span:12},sm:{order:"last",span:3}},t(ve,{css:{userSelect:"none"}},t(U,null,t(w,{xs:8,sm:12},t(ve,null,t(U,{css:{"& > div":{marginTop:5}}},t(w,{xs:{order:1,span:12},sm:{order:2,span:12}},t("span",{css:_e},a("skill.ap")),t(yt,{skillType:e,unit:i})),t(w,{xs:{order:2,span:12},sm:{order:3,span:12}},t("span",{css:_e},a("skill.range")),t(Lt,{skillType:e,unit:i})),t(w,{xs:{order:3,span:12},sm:{order:1,span:12}},t(zt,{skillType:e,unit:i}),t(Mt,{skillType:e,unit:i}))))),t(w,{xs:4,sm:12,css:{"& > div":{marginTop:5}}},t("div",null,t("span",{css:{color:"#ccc"}},a("skill.area"))),t($t,{css:{width:100},skillType:e,unit:i})))))))))},Wt=()=>{const{t:e}=d(),[a,n]=ot();return v(a,i=>t("div",{css:{display:"flex",alignItems:"center",padding:"10px 8px"}},t(j,{placement:"top",overlay:t(K,{id:"tooltip-form-change"},e("form_change"))},t(lt,{"aria-label":"Change unit form",variant:"secondary",svg:t(rt,null),onClick:n})),t("span",{css:{color:"#eee",marginLeft:10}},e(`effect:form.${i.unitForm()}`))))},I=({eventKey:e,active:a,disabled:n,children:i})=>{const s=e.startsWith("active")?"active-skill":"passive-skill";return t(J.Item,null,t(J.Link,{className:s,eventKey:e,active:a,disabled:n},t("span",{css:{display:"inline-block","@media (max-width: 480px)":{width:32},"@media (min-width: 480px)":{width:50}}},i)))},Jt=()=>{const[e,a,n]=ut();return t(I,{eventKey:e,active:a,disabled:!n},n?t(Te,{skillType:V.Active1}):t(we,null),t("span",{className:"sr-only"},"Active skill 1"))},Kt=()=>{const[e,a,n]=dt();return t(I,{eventKey:e,active:a,disabled:!n},n?t(Te,{skillType:V.Active2}):t(we,null),t("span",{className:"sr-only"},"Active skill 2"))},Xt=()=>{const[e,a,n]=pt();return t(I,{eventKey:e,active:a,disabled:!n},n?t(Y,{skillType:V.Passive1}):t(ee,null),t("span",{className:"sr-only"},"Passive skill 1"))},Zt=()=>{const[e,a,n]=gt();return t(I,{eventKey:e,active:a,disabled:!n},n?t(Y,{skillType:V.Passive2}):t(ee,null),t("span",{className:"sr-only"},"Passive skill 2"))},Qt=()=>{const[e,a,n]=mt();return t(I,{eventKey:e,active:a,disabled:!n},n?t(Y,{skillType:V.Passive3}):t(ee,null),t("span",{className:"sr-only"},"Passive skill 3"))},aa=e=>{const[a,n]=ft();return t("div",{...e},t(Wt,null),t(W.Container,{id:"unit-skill-viewer",activeKey:a,onSelect:i=>{n(i??void 0)}},t(J,{variant:"tabs",className:`skill ${a?a.startsWith("active")?"active-skill":"passive-skill":""}`},t(Jt,null),t(Kt,null),t(Xt,null),t(Zt,null),t(Qt,null)),t(W.Content,{css:{minHeight:300}},t(R,{eventKey:"active1"}),t(R,{eventKey:"active2"}),t(R,{eventKey:"passive1"}),t(R,{eventKey:"passive2"}),t(R,{eventKey:"passive3"}))))};export{aa as default};
